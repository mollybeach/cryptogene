(function(e){function t(t){for(var r,n,a=t[0],c=t[1],u=t[2],l=0,d=[];l<a.length;l++)n=a[l],Object.prototype.hasOwnProperty.call(i,n)&&i[n]&&d.push(i[n][0]),i[n]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);p&&p(t);while(d.length)d.shift()();return o.push.apply(o,u||[]),s()}function s(){for(var e,t=0;t<o.length;t++){for(var s=o[t],r=!0,n=1;n<s.length;n++){var a=s[n];0!==i[a]&&(r=!1)}r&&(o.splice(t--,1),e=c(c.s=s[0]))}return e}var r={},n={app:0},i={app:0},o=[];function a(e){return c.p+"js/"+({about:"about",contact:"contact",error:"error",examples:"examples",home:"home",profile:"profile",upload:"upload"}[e]||e)+"."+{about:"dd327fd2",contact:"fe443b25",error:"0d3a9956",examples:"728470d2",home:"24019281",profile:"66ab2b4f",upload:"677d2681"}[e]+".js"}function c(t){if(r[t])return r[t].exports;var s=r[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,c),s.l=!0,s.exports}c.e=function(e){var t=[],s={about:1,contact:1,home:1};n[e]?t.push(n[e]):0!==n[e]&&s[e]&&t.push(n[e]=new Promise((function(t,s){for(var r="css/"+({about:"about",contact:"contact",error:"error",examples:"examples",home:"home",profile:"profile",upload:"upload"}[e]||e)+"."+{about:"2ccf61db",contact:"00fa3370",error:"31d6cfe0",examples:"31d6cfe0",home:"c2af48f9",profile:"31d6cfe0",upload:"31d6cfe0"}[e]+".css",i=c.p+r,o=document.getElementsByTagName("link"),a=0;a<o.length;a++){var u=o[a],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===r||l===i))return t()}var d=document.getElementsByTagName("style");for(a=0;a<d.length;a++){u=d[a],l=u.getAttribute("data-href");if(l===r||l===i)return t()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=t,p.onerror=function(t){var r=t&&t.target&&t.target.src||i,o=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=r,delete n[e],p.parentNode.removeChild(p),s(o)},p.href=i;var m=document.getElementsByTagName("head")[0];m.appendChild(p)})).then((function(){n[e]=0})));var r=i[e];if(0!==r)if(r)t.push(r[2]);else{var o=new Promise((function(t,s){r=i[e]=[t,s]}));t.push(r[2]=o);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,c.nc&&l.setAttribute("nonce",c.nc),l.src=a(e);var d=new Error;u=function(t){l.onerror=l.onload=null,clearTimeout(p);var s=i[e];if(0!==s){if(s){var r=t&&("load"===t.type?"missing":t.type),n=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+r+": "+n+")",d.name="ChunkLoadError",d.type=r,d.request=n,s[1](d)}i[e]=void 0}};var p=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(t)},c.m=e,c.c=r,c.d=function(e,t,s){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(c.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)c.d(s,r,function(t){return e[t]}.bind(null,r));return s},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/cryptogene/",c.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var d=0;d<u.length;d++)t(u[d]);var p=l;o.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("56d76")},"04d2":function(e,t,s){},"07d5":function(e,t,s){"use strict";s("a30e")},"0ce0":function(e,t,s){},1004:function(e,t,s){},"234a":function(e,t,s){"use strict";s("1004")},"2e93":function(e,t){},"2f0c":function(e,t,s){"use strict";s("3abe")},3182:function(e,t,s){"use strict";s("ead5")},"339a":function(e,t,s){e.exports=s.p+"img/avi.52c765c7.png"},"3abe":function(e,t,s){},"3db2":function(e,t,s){"use strict";s("bab4")},"3ea0":function(e,t,s){},4550:function(e,t,s){"use strict";s("0ce0")},"56d7":function(e,t,s){},"56d76":function(e,t,s){"use strict";s.r(t);var r=s("1da1"),n=(s("e260"),s("e6cf"),s("cca6"),s("a79d"),s("96cf"),s("45fc"),s("4795"),s("6eba"),s("0d03"),s("d3b7"),s("ddb0"),s("c0b6"),s("4160"),s("159b"),s("99af"),s("4c53"),s("3ca3"),s("2b3d"),s("b0c0"),s("4de4"),s("59ca")),i=s.n(n),o=(s("ea7b"),s("66ce"),s("588e"),s("5a89")),a=s("4721"),c=s("9483");Object(c["a"])("".concat("/cryptogene/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var u=s("22b5"),l=s("2b0e"),d=s("1881"),p=s.n(d),m=s("8c4f"),h=s("1dce"),f=s.n(h),v=s("58ca"),g=s("1209"),b=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",["embed"!==e.$route.meta.title?s("main",{staticClass:"section",attrs:{id:"app"}},[s("div",{staticClass:"container"},[s("nav-main"),s("router-view",{key:e.$route.fullPath}),e.displayLogin?s("signIn"):e._e(),e.displaySignUp?s("signUp"):e._e(),e.displayShareModal?s("share-modal"):e._e(),s("main-container",{directives:[{name:"show",rawName:"v-show",value:e.displayCanvas,expression:"displayCanvas"}],staticClass:"main"}),s("footer-main")],1),s("uniformGUI")],1):e._e(),"embed"===e.$route.meta.title?s("div",{staticClass:"main embeded"},[s("router-view",{key:e.$route.fullPath}),s("div",{ref:"threeCanvas",staticClass:"canvas-container"})],1):e._e()])},y=[],w=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("header",{staticClass:"header menu"},[s("nav",{staticClass:"header__nav"},[s("ul",{staticClass:"nav__sidenav nav--right "},[s("li",[s("router-link",{staticClass:"header__logo",attrs:{to:"/",alt:"ChromaGene Logo"}},[s("img",{staticClass:"header__img",attrs:{src:"https://res.cloudinary.com/chromagene/image/upload/v1629671769/dna/cryptocompany_oyolng.svg",alt:""}})])],1),s("li",{on:{mouseover:function(t){e.listOne=!0},mouseleave:function(t){e.listOne=!1}}},[s("router-link",{staticClass:"header__link ",staticStyle:{color:"var(--greenapple)","font-size":"20px"},attrs:{to:"/gallery"}},[e._v("Collection "),s("svg",{staticClass:"IconV2 Dropdown-link-caret IconV2--position-default IconV2--display-inlineBlock",attrs:{width:"12",height:"12",viewBox:"0 0 16 16"}},[s("path",{attrs:{d:"M3.619 3.729h8.762a.75.75 0 0 1 .637 1.146l-4.381 7.042a.75.75 0 0 1-1.274 0L2.982 4.875a.75.75 0 0 1 .637-1.146z",fill:"#2A2825","fill-rule":"evenodd"}})])]),s("transition",{attrs:{name:"fade"}},[e.listOne?s("ul",{on:{click:function(t){e.listOne=!1}}},[s("li",[s("router-link",{staticStyle:{color:"white","font-size":"12px"},attrs:{to:"/new"}},[e._v("Create New")])],1),s("li",[s("router-link",{staticStyle:{color:"white","font-size":"12px"},attrs:{to:"/"}},[e._v("Gallery")])],1),s("li",[s("router-link",{staticStyle:{color:"white","font-size":"12px"},attrs:{to:"/examples"}},[e._v("Examples")])],1)]):e._e()])],1),s("li",{on:{mouseover:function(t){e.listThree=!0},mouseleave:function(t){e.listThree=!1}}},[s("router-link",{staticClass:"header__link ",staticStyle:{color:"var(--greenapple)","font-size":"20px"},attrs:{to:"/contact"}},[e._v("Resources"),s("svg",{staticClass:"IconV2 Dropdown-link-caret IconV2--position-default IconV2--display-inlineBlock",attrs:{width:"12",height:"12",viewBox:"0 0 16 16"}},[s("path",{attrs:{d:"M3.619 3.729h8.762a.75.75 0 0 1 .637 1.146l-4.381 7.042a.75.75 0 0 1-1.274 0L2.982 4.875a.75.75 0 0 1 .637-1.146z",fill:"#2A2825","fill-rule":"evenodd"}})])]),s("transition",{attrs:{name:"fade"}},[e.listThree?s("ul",{on:{click:function(t){e.listThree=!1}}},[s("li",[s("a",{staticStyle:{color:"white","font-size":"12px"},attrs:{href:"/main"}},[e._v("Help Center")])]),s("li",[s("a",{staticStyle:{color:"white","font-size":"12px"},attrs:{href:"#"}},[e._v("Gallery")])]),s("li",[s("a",{staticStyle:{color:"white","font-size":"12px"},attrs:{href:"#"}},[e._v("Suggestions")])]),s("li",[s("a",{staticStyle:{color:"white","font-size":"12px"},attrs:{href:"/contact"}},[e._v("Contact")])])]):e._e()])],1),s("li",{on:{mouseover:function(t){e.listTwo=!0},mouseleave:function(t){e.listTwo=!1}}},[s("router-link",{staticClass:"header__link ",staticStyle:{color:"var(--greenapple)","font-size":"20px"},attrs:{to:"/my23"}},[e._v("Profile "),s("svg",{staticClass:"IconV2 Dropdown-link-caret IconV2--position-default IconV2--display-inlineBlock",attrs:{width:"12",height:"12",viewBox:"0 0 16 16"}},[s("path",{attrs:{d:"M3.619 3.729h8.762a.75.75 0 0 1 .637 1.146l-4.381 7.042a.75.75 0 0 1-1.274 0L2.982 4.875a.75.75 0 0 1 .637-1.146z",fill:"#2A2825","fill-rule":"evenodd"}})])]),s("transition",{attrs:{name:"fade"}},[e.listTwo?s("ul",{on:{click:function(t){e.listTwo=!1}}},[s("li",[s("a",{staticStyle:{color:"white","font-size":"12px"},attrs:{href:"my23"}},[e._v("My23")])]),s("li",[s("a",{staticStyle:{color:"white","font-size":"12px"},attrs:{href:"#"}},[e._v("My Collections")])]),s("li",[s("a",{staticStyle:{color:"white","font-size":"12px"},attrs:{href:"#"}},[e._v("My Favorites")])]),s("li",[s("a",{staticStyle:{color:"white","font-size":"12px"},attrs:{href:"/signin"}},[e._v("Sign In")])])]):e._e()])],1),s("li",[s("router-link",{staticClass:"header__link buttonH buttonH--size-xs buttonH--color",staticStyle:{color:"white","font-size":"20px",display:"flex","align-items":"center"},attrs:{to:"/start"}},[s("button",[s("span",[e._v("Create")])])])],1)])])])},S=[],C=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{ref:"container",staticClass:"card"},[e._t("default")],2)},_=[],x={props:["position"],data:function(){return{pos:this.position||{x:0,y:0}}},watch:{position:function(e){this.$refs.container}}},k=x,U=(s("5f32"),s("2877")),$=Object(U["a"])(k,C,_,!1,null,null,null),E=$.exports,j={data:function(){return{showProfileDropDown:!1,listOne:!1,listTwo:!1,listThree:!1,listFour:!1}},components:{cardModal:E},computed:{displayLogin:function(){return this.$store.getters.displayLogin},embedded:function(){return this.$store.getters.getEmbedded},profileBadgeCount:function(){return this.$store.getters.getProfileBadgeCount},user:function(){return this.$store.getters.getUser},title:function(){return this.$store.getters.routeTitle?this.$store.getters.routeTitle:this.$route.meta.title},isMobile:function(){return window.innerWidth<500}},methods:{setProfileDropDown:function(e){this.showProfileDropDown=e},signOut:function(){i.a.auth().signOut().then((function(){}))},signIn:function(){this.$store.commit("displayLogin",!0)}}},T=j,O=(s("8baf"),Object(U["a"])(T,w,S,!1,null,null,null)),P=O.exports,D=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"main",class:{embeded:e.isEmbeded}},[s("editor",{class:{dragging:e.dragingMouse},attrs:{cachedWidth:e.editorWidth}}),s("div",{directives:[{name:"show",rawName:"v-show",value:e.showHandel,expression:"showHandel"}],ref:"handel",staticClass:"handle",class:{dragging:e.dragingMouse}},[e._m(0)]),s("div",{ref:"threeCanvas",staticClass:"canvas-container",class:{dragging:e.dragingMouse}}),s("sculptureFeed",{class:{dragging:e.dragingMouse},attrs:{cachedWidth:e.actionsBarWidth,dragging:e.dragingMouse}})],1)},L=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ul",{staticClass:"dot-container"},[s("li",{staticClass:"dot"}),s("li",{staticClass:"dot"}),s("li",{staticClass:"dot"})])}],F=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"editor",class:{embeded:e.isEmbeded}},[s("div",{staticClass:"editor-container"},[s("v-dialog"),s("div",{staticClass:"controls"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.sculptureTitle,expression:"sculptureTitle"}],style:e.titleInput,attrs:{classs:"editor-input centerY",placeholder:"title"},domProps:{value:e.sculptureTitle},on:{keyup:function(){},keydown:function(e){return e.stopPropagation(),function(){}.apply(null,arguments)},click:function(e){return e.stopPropagation(),function(){}.apply(null,arguments)},input:function(t){t.target.composing||(e.sculptureTitle=t.target.value)}}}),s("div",{staticClass:"editor-input-subbuttons"},["admin"!==e.authorUsername&&e.authorUsername?s("span",{staticClass:"username centerY"},[e._v("by "),s("router-link",{attrs:{to:e.userProfileRoute,tag:"a"}},[e._v(e._s(e.authorUsername))])],1):e._e(),s("button",{staticClass:"close centerY editor-button",on:{click:function(t){return t.stopPropagation(),e.close.apply(null,arguments)}}}),s("button",{staticClass:"save centerY editor-button",on:{click:function(t){return t.stopPropagation(),e.save.apply(null,arguments)}}},[e._v(e._s(e.saveText))])]),s("label",{staticClass:"autoUpdate-label centerY",attrs:{for:"AutoUpdate"}},[e._v("Auto Update")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.autoUpdate,expression:"autoUpdate"}],staticClass:"checkbox centerY",style:{marginLeft:"10px"},attrs:{type:"checkbox",value:"AutoUpdate"},domProps:{checked:Array.isArray(e.autoUpdate)?e._i(e.autoUpdate,"AutoUpdate")>-1:e.autoUpdate},on:{change:function(t){var s=e.autoUpdate,r=t.target,n=!!r.checked;if(Array.isArray(s)){var i="AutoUpdate",o=e._i(s,i);r.checked?o<0&&(e.autoUpdate=s.concat([i])):o>-1&&(e.autoUpdate=s.slice(0,o).concat(s.slice(o+1)))}else e.autoUpdate=n}}}),e.autoUpdate?e._e():s("button",{staticClass:"play centerY editor-button",on:{click:function(t){return t.stopPropagation(),e.play.apply(null,arguments)}}}),e.isAdmin?s("label",{staticClass:"autoUpdate-label centerY",attrs:{for:"Example"}},[e._v("Is Example")]):e._e(),e.isAdmin?s("input",{directives:[{name:"model",rawName:"v-model",value:e.isExample,expression:"isExample"}],staticClass:"checkbox centerY",attrs:{type:"checkbox",value:"Example"},domProps:{checked:Array.isArray(e.isExample)?e._i(e.isExample,"Example")>-1:e.isExample},on:{change:function(t){var s=e.isExample,r=t.target,n=!!r.checked;if(Array.isArray(s)){var i="Example",o=e._i(s,i);r.checked?o<0&&(e.isExample=s.concat([i])):o>-1&&(e.isExample=s.slice(0,o).concat(s.slice(o+1)))}else e.isExample=n}}}):e._e(),e.isAdmin?s("label",{staticClass:"autoUpdate-label centerY",attrs:{for:"Featured"}},[e._v("Featured")]):e._e(),e.isAdmin?s("input",{directives:[{name:"model",rawName:"v-model",value:e.isFeatured,expression:"isFeatured"}],staticClass:"checkbox centerY",attrs:{type:"checkbox",value:"Featured"},domProps:{checked:Array.isArray(e.isFeatured)?e._i(e.isFeatured,"Featured")>-1:e.isFeatured},on:{change:function(t){var s=e.isFeatured,r=t.target,n=!!r.checked;if(Array.isArray(s)){var i="Featured",o=e._i(s,i);r.checked?o<0&&(e.isFeatured=s.concat([i])):o>-1&&(e.isFeatured=s.slice(0,o).concat(s.slice(o+1)))}else e.isFeatured=n}}}):e._e(),e.displayDelete?s("button",{staticClass:"delete centerY editor-button",on:{click:function(t){return t.stopPropagation(),e.deleteSculpture.apply(null,arguments)}}},[e._v("Delete")]):e._e()]),s("card",{},[s("div",{staticClass:"choose-group"},[s("label",{staticClass:"btn btn--delta",attrs:{for:"file1"}},[e._v("Upload .txt")]),s("input",{ref:"click1",staticClass:"form-control-file",staticStyle:{display:"none",resize:"none","margin-top":"10px"},attrs:{type:"file",id:"file1"},on:{change:e.onFileChange}}),s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.preview1,expression:"preview1"}],staticClass:"form-control",staticStyle:{resize:"none",border:"15px solid var(--bumblebee)","border-radius":"15px","margin-top":"10px"},attrs:{rows:"5",cols:"20",name:"file"},domProps:{value:e.preview1},on:{input:function(t){t.target.composing||(e.preview1=t.target.value)}}}),s("label",{staticClass:"btn btn--alpha"},[e._v("Choose Design")]),s("input",{staticClass:"form-control-file",staticStyle:{display:"none",resize:"none"},attrs:{type:"file",id:"file2"},on:{change:e.onFileChange2}}),s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.preview2,expression:"preview2"}],staticClass:"form-control",staticStyle:{resize:"none",border:"15px solid var(--bumblebee)","border-radius":"15px"},attrs:{rows:"5",cols:"20",name:"file2"},domProps:{value:e.preview2},on:{input:function(t){t.target.composing||(e.preview2=t.target.value)}}}),s("button",{staticClass:"btn btn--beta",on:{click:e.onSubmit}},[e._v("Submit")]),s("button",{staticClass:"btn btn--beta",on:{click:function(t){t.stopPropagation(),e.errorMessages=[]}}},[e._v("Clear Console")])])]),s("div",{staticClass:"console-container"},[s("div",{staticClass:"error-messages",domProps:{innerHTML:e._s(e.consoleErrorMessages)}})]),s("codemirror",{ref:"myCm",attrs:{value:e.code,options:e.cmOptions},on:{ready:e.onCmReady,input:e.onCmCodeChange,keydown:function(e){return e.stopPropagation(),function(){}.apply(null,arguments)},click:function(e){return e.stopPropagation(),function(){}.apply(null,arguments)}}})],1)])},I=[],A=s("ade3"),M=(s("a15b"),s("25f0"),s("8f94")),z=s("05b2"),B=s("8aa5"),R=s.n(B),N=(s("f9d4"),s("9a48"),{props:{cachedWidth:{type:String,default:"40%"}},data:function(){return{listOne:!1,cm:null,code:"",cmOptions:{tabSize:4,mode:"text/javascript",theme:"default",lineNumbers:!0,matchBrackets:!0,keyMap:"sublime",autoCloseBrackets:!0,line:!0,viewportMargin:1/0},initialized:!1,isExample:!1,isFeatured:!1,autoUpdate:!0,closed:!1,editorContainsErrors:!1,saved:!0,titleInput:{border:"none",fontSize:"25px"},currWidth:"0px",editorHasDisplayedModal:!1,dialog:!1,errorMessages:[],file1:null,file2:null,file3:null,preview1:"",preview2:"",preview3:"",func:""}},components:{codemirror:M["codemirror"]},mounted:function(){},computed:{sculptureError:function(){return this.$store.getters.getSculptureError},codemirror:function(){return this.$refs.myCm.codemirror},consoleErrorMessages:function(){return this.errorMessages.join("<br/>")},saveText:function(){return this.selectedSculpture?!this.selectedSculpture.uid||this.$store.getters.getUser&&this.$store.getters.getUser.uid==this.selectedSculpture.uid?this.selectedSculpture.saved?"Saved":"Save":"Save as Fork":"Save"},selectedSculpture:function(){return this.$store.state.selectedSculpture},currUser:function(){return this.$store.getters.getUser},isAdmin:function(){return this.$store.getters.isAdmin},displayDelete:function(){return this.selectedSculpture&&this.currUser&&this.currUser.uid&&this.selectedSculpture.uid===this.currUser.uid},authorUsername:function(){return this.selectedSculpture?this.selectedSculpture.username:null},authorId:function(){return this.selectedSculpture?this.selectedSculpture.uid:null},userProfileRoute:function(){return this.selectedSculpture?"/user/".concat(this.selectedSculpture.username):$router.currentRoute.path},sculptureTitle:{get:function(){return this.selectedSculpture?this.selectedSculpture.title:""},set:function(e){this.$store.state.selectedSculpture&&(this.$store.state.selectedSculpture.title=e,this.titleInput.width=e.length+1+"ch")}},isEmbeded:function(){return this.$store.state.embedded}},watch:{sculptureError:function(e){if(e){var t=e.toString(),s=this.errorMessages.length-1;this.errorMessages.length?this.errorMessages[s]!==t&&this.errorMessages.push(t):this.errorMessages.push(t),setTimeout((function(){var e=document.querySelector(".console-container");e.scrollTop=e.scrollHeight}),1)}},cachedWidth:function(e){"0px"!=this.currWidth&&(this.currWidth=this.cachedWidth)},autoUpdate:function(e){e&&this.onCmCodeChange(this.code)},isExample:function(e){this.selectedSculpture.isExample=e},isFeatured:function(e){this.selectedSculpture.featured=e},selectedSculpture:function(e){e?(e.title&&(this.titleInput.width=e.title.length+"ch"),this.currWidth=this.cachedWidth,this.isExample=e.isExample,this.isFeatured=e.featured,this.initialized?(this.closed=!1,this.code=e.shaderSource):(this.code=e.shaderSource,this.initialized=!0),this.errorMessages=[],this.cycleResizeWindows()):(this.currWidth="0px",this.cycleResizeWindows())}},methods:{onFileChange:function(e){var t=this,s=e.target.files[0],r=new FileReader;r.onload=function(){t.preview1=r.result},r.readAsText(s),this.file1=s},onFileChange2:function(e){var t=this,s=(this.file1,e.target.files[0]),r=new FileReader;r.onload=function(){t.preview2=r.result},r.readAsText(s),this.file2=s},onSubmit:function(){var e=this.preview1,t=this.preview2,s="let jsonObj = "+e+"; "+t,r=R.a.database().ref("UserDnaFiles");r.push({shaderStr:s}),console.log(s),this.code=s,this.preview3=s},click1:function(){this.$refs.input1.click()},click2:function(){this.$refs.input2.click()},cycleResizeWindows:function(){var e=this,t=setInterval((function(){e.codemirror.refresh(),window.onCanvasResize()}),1);setTimeout((function(){e.codemirror.refresh(),window.onCanvasResize(),clearInterval(t)}),1e3)},onCmReady:function(e){window.cm=e},onCmFocus:function(e){},onCmCodeChange:function(e){e!==this.selectedSculpture.shaderSource&&(this.selectedSculpture.saved=!1,this.$store.commit("setUnsavedChanges",Object(A["a"])({},this.selectedSculpture.id,!1))),this.code=e,this.autoUpdate&&this.selectedSculpture&&(this.selectedSculpture.shaderSource=this.code)},save:function(){var e=this;return new Promise((function(t,s){if(null!=e.currUser){var r=e.selectedSculpture.id;e.$store.dispatch("saveSculpture",e.selectedSculpture).then((function(){e.selectedSculpture.saved=!0,e.$store.currSculpture=e.selectedSculpture,e.$store.commit("setUnsavedChanges",Object(A["a"])({},r,!0)),t()}))["catch"]((function(e){console.error(e),alert(e),s(e)}))}else e.$store.commit("displayLogin",!0),s()}))},play:function(){this.selectedSculpture&&(this.selectedSculpture.shaderSource=this.code)},download:function(){var e=Object(z["sculptToThreeJSShaderSource"])(this.code),t=Object(z["sculptToTouchDesignerShaderSource"])(this.code),s=e.geoGLSL+"\n"+e.colorGLSL;e["spExport"]=s,e["touchDesignerExport"]=t.frag,console.log(e)},exportSculpture:function(){},close:function(){var e=this,t=function(){e.closed=!0,e.$store.state.selectedSculpture=null,e.$store.state.selectedObject=null};this.selectedSculpture.saved?t():(this.dialog=!0,this.$modal.show("dialog",{title:"Unsaved Changes",text:"Do you want to save before closing the editor?",buttons:[{title:"Cancel",handler:function(){return e.$modal.hide("dialog")}},{title:"Close",handler:function(){t(),e.$modal.hide("dialog")}},{title:"Save & Close",default:!0,handler:function(){e.save().then((function(){e.$modal.hide("dialog"),t()}))}}]}))},deleteSculpture:function(){var e=this;this.$modal.show("dialog",{title:"Delete Sculpture",text:"Are you sure you want to delete this sculpture?",buttons:[{title:"Cancel",handler:function(){return e.$modal.hide("dialog")}},{title:"Delete",default:!0,handler:function(){e.$store.dispatch("deleteSculpture",e.selectedSculpture).then((function(){e.$store.dispatch("removeSelectedSculptureFromScene"),e.$store.state.selectedSculpture=null})),e.$modal.hide("dialog")}}]})},keypress:function(e,t){"Escape"===t.key&&this.close()},removeEditorModalUI:function(){this.cm&&this.cm.helpers.activeModal&&this.cm.helpers.activeModal.isVisible?this.editorHasDisplayedModal?(cm.helpers.activeModal.removeModal(),this.editorHasDisplayedModal=!1):this.editorHasDisplayedModal=!0:this.editorHasDisplayedModal=!1}}}),W=N,G=(s("77fa"),s("3182"),Object(U["a"])(W,F,I,!1,null,"4e2cf019",null)),q=G.exports,H=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"action-bar",class:{embeded:e.isEmbeded,dragging:e.dragging}})])},Y=[],V=s("5530"),J=s("2f62"),K=s("84a2"),Q=s.n(K),X={props:{cachedWidth:{type:String,default:"50%"},dragging:{type:Boolean,default:!1}},data:function(){return{currWidth:"30%",favorited:!1,favoriteCount:0}},computed:Object(V["a"])(Object(V["a"])({},Object(J["b"])({userFavorites:"userFavorites",userComments:"userComments"})),{},{isEmbeded:function(){return this.$store.state.embedded},currSculpture:function(){return this.$store.state.currSculpture},displayActionButton:function(){return this.currSculpture&&this.currSculpture.id&&this.currSculpture.id.length>3},isMobile:function(){return window.innerWidth<500},currUser:function(){return this.$store.getters.getUser}}),watch:{cachedWidth:function(e){"0px"!=this.currWidth&&(this.currWidth=this.cachedWidth)},currSculpture:function(e){this.updateFavoritedButton()},userFavorites:function(e){this.updateFavoritedButton()}},created:function(){this.throttleFavorite=Q()(this.favorite,850)},methods:{updateFavoritedButton:function(){this.favorited=this.userFavorites&&this.currSculpture&&"id"in this.currSculpture&&this.currSculpture.id in this.userFavorites,this.$store.state.currSculpture&&(this.favoriteCount=this.currSculpture.favorites)},favorite:function(){var e=this;return new Promise((function(t,s){if(null!=e.currUser){e.currSculpture.id;e.$store.dispatch("favorite",{sculpture:e.currSculpture,favorited:!e.favorited}).then((function(){t()}))["catch"]((function(e){console.error(e),alert(e),s(e)}))}else e.$store.commit("displayLogin",!0),t()}))},showCodeEditor:function(){this.$store.state.selectedObject=this.getCurrSculpture()},getCurrSculpture:function(){var e=window.scene.children.filter((function(e){return"Mesh"===e.type}));try{return e[0]}catch(t){console.error("No sculpture found",t)}},share:function(){this.$store.commit("displayShareModal",!0)}}},Z=X,ee=(s("6482"),Object(U["a"])(Z,H,Y,!1,null,null,null)),te=ee.exports,se=s("d4ed"),re=s("8080"),ne={data:function(){return{dragingMouse:!1,showHandel:!1,mounted:!1}},components:{editor:q,actionBar:te,sculptureFeed:se["a"],Sculpture:re["a"]},computed:{canvasSize:function(){return this.mounted?this.$refs.threeCanvas.clientWidth:0},selectedSculpture:function(){return this.$store.state.selectedSculpture},isEmbeded:function(){return this.$store.state.embedded}},watch:{canvasSize:function(e){var t=this.$refs.threeCanvas;t&&t.clientWidth&&this.$store.commit("setCanvasSize",{width:t.clientWidth,height:t.clientHeight})},selectedSculpture:function(e){this.showHandel=null!=e,this.actionsBarWidth=e?this.cachedActionsBarWidth:"100%"}},mounted:function(){this.$nextTick((function(){var e=this.$refs.handel;e.addEventListener("mousedown",this.mouseDown);document.getElementById("app");window.addEventListener("mousemove",this.mouseMove),window.addEventListener("mouseup",this.mouseDrag),this.mounted=!0}))},methods:{mouseDown:function(){this.dragingMouse=!0},mouseMove:function(e){if(this.dragingMouse){var t=e.clientX/window.innerWidth*100;this.editorWidth="calc(".concat(t,"vw + ").concat(this.handelWidth,"px)"),this.actionsBarWidth="calc(".concat(100-t,"vw - ").concat(1.5*this.handelWidth,"px)");var s=this.$refs.threeCanvas;s&&(s.style.width=this.actionsBarWidth,this.$store.commit("setCanvasSize",{width:s.clientWidth,height:s.clientHeight})),this.cachedActionsBarWidth=this.actionsBarWidth}},mouseDrag:function(){this.dragingMouse=!1}},beforeDestroy:function(){var e=this.$refs.handel;e.removeEventListener("mousedown",this.mouseDown);document.getElementById("app");window.removeEventListener("mousemove",this.mouseMove),window.removeEventListener("mouseup",this.mouseDrag)}},ie=ne,oe=(s("234a"),Object(U["a"])(ie,D,L,!1,null,null,null)),ae=oe.exports,ce=s("677f"),ue=s("5ace"),le=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div")},de=[],pe=(s("b64b"),s("7db0"),s("8992")),me={data:function(){return{guiParams:{},guiEl:{},currUniforms:{}}},computed:{selectedSculpture:function(){return this.$store.state.selectedSculpture},selectedSculptureUniforms:function(){return this.$store.state.selectedSculpture?this.$store.state.selectedSculpture.sculpture.uniforms:null},sculpturesLoaded:function(){return this.$store.state.sculpturesLoaded}},watch:{guiParams:{immediate:!0,deep:!0,handler:function(e){var t=this;if(e&&(Object.keys(e).forEach((function(s){var r=t.$store.state.selectedSculpture.sculpture.uniforms.find((function(e){return e.name==s}));r&&(r.value=e[s])})),this.gui))for(var s in this.gui.__controllers)this.gui.__controllers[s].updateDisplay()}},selectedSculptureUniforms:function(e){var t=this,s={time:0,opacity:0,stepSize:0,mouse:0,sculptureCenter:0};if(e&&(e=e.filter((function(e){return!(e.name in s)}))),e&&e.length){if(this.gui.domElement.style.display="block",e.forEach((function(e){e.name in t.guiParams?JSON.stringify(t.currUniforms[e.name])!==JSON.stringify(e)&&(t.removeUniformFromGUI(e.name),t.addUniformToGUI(e)):t.addUniformToGUI(e)})),e.length<Object.keys(this.guiEl).length){var r=Object.keys(this.currUniforms).filter((function(t){return!e.find((function(e){return e.name===t}))}));r&&r.length&&this.removeUniformFromGUI(this.currUniforms[r[0]].name)}0===e.length&&(this.gui.domElement.style.display="none")}else window.anime&&anime.remove(this.guiParams),this.gui.domElement.style.display="none",Object.keys(this.guiEl).forEach((function(e){t.removeUniformFromGUI(e)}))}},methods:{addUniformToGUI:function(e){this.$set(this.guiParams,e.name,e.value),"float"===e.type&&(this.currUniforms[e.name]=e,this.guiEl[e.name]=this.gui.add(this.guiParams,e.name,e.min,e.max))},removeUniformFromGUI:function(e){e in this.guiEl&&(this.gui.remove(this.guiEl[e]),delete this.guiEl[e]),delete this.guiParams[e],delete this.currUniforms[e]}},mounted:function(){this.$nextTick((function(){this.gui=new pe["a"],window.gui=this.gui,this.gui.domElement.style.display="none",window.guiParams=this.guiParams;var e=document.querySelector(".dg");e.style.zIndex=102,e.style.marginTop="8vh",e.children[0].children[1].style.marginTop="20px"}))}},he=me,fe=(s("3db2"),Object(U["a"])(he,le,de,!1,null,null,null)),ve=fe.exports,ge=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"share-container",class:{fade:e.shouldDisplay}},[s("button",{staticClass:"close-auth",on:{click:e.close}}),s("h3",{staticClass:"share-title"},[e._v("Share")]),s("h4",[e._v(e._s(e.sculptureTitle))]),s("form",{on:{submit:function(e){e.preventDefault()}}},[s("br"),s("span",[e._v("EmðŸ›ï¸")]),e._v(" "),e.showCopiedEmbedInfo?s("span",{staticClass:"copy-to-clipboard"},[e._v("copied to clipboard")]):e._e(),s("input",{directives:[{name:"model",rawName:"v-model",value:e.embedUrl,expression:"embedUrl"}],staticClass:"input w-input",attrs:{type:"",placeholder:""},domProps:{value:e.embedUrl},on:{focus:e.copyEmbed,input:function(t){t.target.composing||(e.embedUrl=t.target.value)}}}),s("br"),s("span",[e._v("FullScreen ðŸŽ")]),e._v(" "),e.showCopiedFullScreenInfo?s("span",{staticClass:"copy-to-clipboard"},[e._v("copied to clipboard")]):e._e(),s("br"),s("input",{directives:[{name:"model",rawName:"v-model",value:e.fullScreenUrl,expression:"fullScreenUrl"}],staticClass:"input w-input",attrs:{type:"",placeholder:""},domProps:{value:e.fullScreenUrl},on:{focus:e.copyFullScreen,input:function(t){t.target.composing||(e.fullScreenUrl=t.target.value)}}}),s("br"),s("span",[e._v("Edit â€Žâ€ðŸ’»")]),e._v(" "),e.showCopiedEditInfo?s("span",{staticClass:"copy-to-clipboard"},[e._v("copied to clipboard")]):e._e(),s("br"),s("input",{directives:[{name:"model",rawName:"v-model",value:e.editUrl,expression:"editUrl"}],staticClass:"input w-input",attrs:{type:"",placeholder:""},domProps:{value:e.editUrl},on:{focus:e.copyEdit,input:function(t){t.target.composing||(e.editUrl=t.target.value)}}}),s("br"),e._m(0),s("br"),s("br"),e._m(1)])])},be=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("span",[s("a",{attrs:{href:"https://glitch.com/~shader-park-template",target:"_blank"}},[e._v(" Embed in Glitch.com "),s("div",{staticClass:".img-button glitch-button"})])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("span",[s("a",{attrs:{href:"https://github.com/shader-park/shader-park-touchdesigner",target:"_blank"}},[e._v(" Render in TouchDesigner "),s("div",{staticClass:".img-button touchdesigner-button"})])])}],ye={data:function(){return{showCopiedEmbedInfo:!1,showCopiedEditInfo:!1,showCopiedFullScreenInfo:!1,shouldDisplay:!1}},created:function(){var e=this;this.$store.dispatch("getAllUserNames").then((function(t){e.allUserNames=Object.keys(t)}))},mounted:function(){var e=this;setTimeout((function(){return e.shouldDisplay=!0}),1)},computed:{currSculpture:function(){return this.$store.state.currSculpture},embedUrl:function(){return'<iframe src="https://shaderpark.netlify.com/embed/'.concat(this.currSculpture.id).concat(this.isExample,'" frameborder="0"></iframe>')},fullScreenUrl:function(){return"https://shaderpark.netlify.com/embed/".concat(this.currSculpture.id).concat(this.isExample)},editUrl:function(){return"https://shaderpark.netlify.com/sculpture/".concat(this.currSculpture.id).concat(this.isExample)},sculptureTitle:function(){return this.currSculpture.title},isExample:function(){return this.currSculpture.isExample?"?example=true":""}},methods:{copyEmbed:function(e){this.resetCopiedInfo(),this.showCopiedEmbedInfo=!0,this.copyUrl(e)},copyEdit:function(e){this.resetCopiedInfo(),this.showCopiedEditInfo=!0,this.copyUrl(e)},copyFullScreen:function(e){this.resetCopiedInfo(),this.showCopiedFullScreenInfo=!0,this.copyUrl(e)},resetCopiedInfo:function(){this.showCopiedEmbedInfo=!1,this.showCopiedEditInfo=!1,this.showCopiedFullScreenInfo=!1},copyUrl:function(e){e.target.focus();var t=document.createElement("textarea");t.value=e.target._value,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)},close:function(){var e=this;this.shouldDisplay=!1,setTimeout((function(){return e.$store.commit("displayShareModal",!1)}),300)},copy:function(){console.log("copy")}}},we=ye,Se=(s("4550"),Object(U["a"])(we,ge,be,!1,null,null,null)),Ce=Se.exports,_e=s("fd2d"),xe={components:{navMain:P,mainContainer:ae,signIn:ce["default"],signUp:ue["default"],uniformGUI:ve,shareModal:Ce,footerMain:_e["default"]},data:function(){return{isMounted:!1,hasBeenLoaded:!1}},computed:{displayShareModal:function(){return this.$store.getters.displayShareModal},displayCanvas:function(){return this.$store.getters.displayCanvas},sculpturesLoaded:function(){return this.$store.state.sculpturesLoaded},isEmbeded:function(){return this.$store.state.embedded},displayLogin:function(){return this.$store.getters.displayLogin},displaySignUp:function(){return this.$store.getters.displaySignUp}},watch:{sculpturesLoaded:function(e){e&&!this.hasBeenLoaded&&(this.hasBeenLoaded=!0)},displayCanvas:function(e){}},methods:{setUser:function(){this.$store.dispatch("setUser"),this.$store.dispatch("fetchUserFavorites"),this.$store.dispatch("fetchUserComments")},didMount:function(e){e()}},created:function(){this.setUser()},mounted:function(){this.$nextTick((function(){if(this.isMounted=!0,(this.isEmbeded||"embed"===this.$route.meta.title)&&document.body.classList.add("embeded"),"embed"===this.$route.meta.title){this.$refs.threeCanvas;this.$store.commit("setCanvasSize",{width:window.innerWidth,height:window.innerHeight})}}))}},ke=xe,Ue=(s("07d5"),s("94fb"),Object(U["a"])(ke,b,y,!1,null,"3cb06e22",null)),$e=Ue.exports,Ee={apiKey:"AIzaSyBVsrIosytW9Xeq7lenwDr5nInNPf74zSo",authDomain:"chromagenetic.firebaseapp.com",databaseURL:"https://chromagenetic-default-rtdb.firebaseio.com",projectId:"chromagenetic",storageBucket:"chromagenetic.appspot.com",messagingSenderId:"766838856319",appId:"1:766838856319:web:794cece8973233d291bd4a",measurementId:"G-D8TV36XMR8"},je=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[e.finishedLoadingSculp?s("sculpture",{ref:"sculpture",attrs:{sculpData:e.emptySculpture}}):e._e()],1)},Te=[],Oe=s("8a92"),Pe={data:function(){return{emptySculpture:{},finishedLoadingSculp:!1}},props:["example","embed","hideEditor","hidePedestal","clickEnabled"],mounted:function(){this.$nextTick((function(){var e=this;this.$store.commit("setDisplayCanvas",!0),this.$store.commit("setInitialCameraPose",[0,0,4]),this.$store.commit("sculpturesLoaded",!1),null!=this.clickEnabled&&this.$store.commit("setClickEnabled","true"===this.clickEnabled),this.embed&&"true"===this.embed&&(this.$store.commit("setEmbedded",!0),this.setSelectedSculpture());var t=this.$route.params.id;if(t){var s={id:t};this.example&&"true"===this.example&&(s["example"]=!0),this.$store.dispatch("fetchSculpture",s).then((function(t){t?(e.emptySculpture=t,e.finishedLoadingSculp=!0,"title"!=t.title&&e.$store.commit("setRouteTitle",t.title),e.setSelectedSculpture()):e.$modal.show("no-sculpture-data-found")}))}else{this.finishedLoadingSculp=!0;var r=this.$route.params.type;this.emptySculpture.type="js",r&&"glsl"===r&&(this.emptySculpture.type=r),this.setSelectedSculpture()}}))},components:{sculpture:re["a"]},methods:{setUser:function(){this.$store.dispatch("setUser")},setSelectedSculpture:function(){this.$nextTick((function(){var e=this.$refs.sculpture;e&&(this.hideEditor||(this.$store.state.selectedObject=e.sculpture.mesh),this.hidePedestal&&(e.sculpture.pedestal.visible=!1,e.sculpture.pedestalEdges.visible=!1)),this.$store.commit("sculpturesLoaded",!0),window.onCanvasResize()}))}},destroyed:function(){this.$store.commit("setRouteTitle",null)},beforeRouteLeave:function(e,t,s){Object(Oe["a"])(s,this)}},De=Pe,Le=(s("f76a"),Object(U["a"])(De,je,Te,!1,null,null,null)),Fe=Le.exports,Ie=[{path:"",name:"home",component:function(){return s.e("home").then(s.bind(null,"57da"))},meta:{title:"All Sculptures"}},{path:"/examples",name:"examples",component:function(){return s.e("examples").then(s.bind(null,"1d2a"))},props:function(e){return{embed:e.query.embed}},meta:{title:"Examples"}},{path:"/my23",name:"examples",component:function(){return s.e("upload").then(s.bind(null,"60fb"))},props:function(e){return{embed:e.query.embed}},meta:{title:"my23"}},{path:"/new/:type",name:"new",component:Fe,meta:{title:"New Sculpture",selectedSculpture:!0}},{path:"/new",name:"new",component:Fe,meta:{title:"New Sculpture",selectedSculpture:!0}},{path:"/sign-in",name:"signIn",component:function(){return Promise.resolve().then(s.bind(null,"677f"))},meta:{title:"Sign In"}},{path:"/sign-up",name:"signUp",component:function(){return Promise.resolve().then(s.bind(null,"5ace"))},meta:{title:"Sign Up"}},{path:"/profile",name:"profile",component:function(){return s.e("profile").then(s.bind(null,"66aa"))},meta:{title:"Profile",requiresAuth:!0}},{path:"/featured",name:"featured",component:function(){return s.e("home").then(s.bind(null,"57da"))},meta:{title:"Featured",requiresAuth:!1}},{path:"/sculpture/:id",name:"sculpture",component:Fe,props:function(e){return{example:e.query.example,embed:e.query.embed,hideEditor:e.query.hideeditor,hidePedestal:e.query.hidepedestal,clickEnabled:e.query.clickenabled}},meta:{title:"sculpture",selectedSculpture:!0}},{path:"/embed/:id",name:"embed",component:Fe,props:function(e){return{example:e.query.example,embed:!0,hideEditor:!0,hidePedestal:!0,clickEnabled:!1}},meta:{title:"embed",selectedSculpture:!0}},{path:"/user/:username",name:"user",component:function(){return s.e("profile").then(s.bind(null,"66aa"))},meta:{title:"user"}},{path:"/about",name:"about",component:function(){return s.e("about").then(s.bind(null,"84ba"))},meta:{title:"About"}},{path:"/contact",name:"contact",component:function(){return s.e("contact").then(s.bind(null,"371a"))},meta:{title:"Contact"}},{path:"/start",name:"start",component:function(){return s.e("contact").then(s.bind(null,"d03b"))},meta:{title:"Start"}},{path:"/404",name:"404",component:s.e("error").then(s.bind(null,"56f6"))},{path:"*",redirect:"/404"}];s("c975"),s("a434"),s("d81d");l["a"].use(J["a"]);var Ae=new J["a"].Store({state:{user:null,userFavorites:{},userComments:{},socket:null,clickEnabled:!0,currentRoom:null,initialCameraPose:null,selectedSculpture:null,currSculpture:null,selectedObject:null,objectsToUpdate:[],objectsToRaycast:[],intersectedObject:null,currentSculptures:[],loading:!1,sculpturesLoaded:!1,profileBadgeCount:0,embedded:!1,canvasSize:{width:0,height:0},displayLogin:!1,displaySignUp:!1,displayCanvas:!1,routeTitle:null,unsavedChanges:{},MSDFTexture:{},sculptureError:null,displayShareModal:!1,userDna:{}},getters:{userFavorites:function(e){return e.userFavorites},userComments:function(e){return e.userComments},displayShareModal:function(e){return e.displayShareModal},getSculptureError:function(e){return e.sculptureError},displayCanvas:function(e){return e.displayCanvas},getMSDFTexture:function(e){return e.MSDFTexture},unsavedChanges:function(e){return e.unsavedChanges},routeTitle:function(e){return e.routeTitle},displayLogin:function(e){return e.displayLogin},displaySignUp:function(e){return e.displaySignUp},getUser:function(e){return e.user},selectedSculpture:function(e){return e.selectedSculpture},getCurrentSculptures:function(e){return e.currentSculptures},isAdmin:function(e){return e.user&&"K3lAQQTKbiTiVXlwRZouH4OrWyv1"===e.user.uid},getProfileBadgeCount:function(e){return e.profileBadgeCount},getEmbedded:function(e){return e.embedded},getUserDna:function(e){return e.userDna}},mutations:{setCurrSculpture:function(e,t){e.currSculpture={},e.currSculpture=t},setUserFavorites:function(e,t){e.userFavorites={},Object.assign(e.userFavorites,t)},setUserComments:function(e,t){e.userComments={},Object.assign(e.userComments,t)},displayShareModal:function(e,t){e.displayShareModal=t},setSculptureError:function(e,t){e.sculptureError=t},setDisplayCanvas:function(e,t){e.displayCanvas=t},setMSDFTexture:function(e,t){e.MSDFTexture=t},setUnsavedChanges:function(e,t){Object.keys(t).forEach((function(s){t[s]?delete e.unsavedChanges[s]:e.unsavedChanges[s]=t[s]}))},resetUnsavedChanges:function(e){e.unsavedChanges={}},setClickEnabled:function(e,t){e.clickEnabled=t},setInitialCameraPose:function(e,t){e.initialCameraPose=t},setRouteTitle:function(e,t){e.routeTitle=t},displayLogin:function(e,t){e.displayLogin=t,t&&(e.displaySignUp=!1)},displaySignUp:function(e,t){e.displaySignUp=t,t&&(e.displayLogin=!1)},setCanvasSize:function(e,t){e.canvasSize=t},setUser:function(e){e.user=i.a.auth().currentUser},setEmbedded:function(e,t){e.embedded=t},setSelectedSculpture:function(e,t){e.selectedSculpture=t},setCurrentSculptures:function(e,t){e.currentSculptures=t},setLoading:function(e,t){e.loading=t},incrementProfileBadgeCount:function(e){e.profileBadgeCount+=1},setProfileBadgeCount:function(e,t){e.profileBadgeCount=t},sculpturesLoaded:function(e,t){e.sculpturesLoaded=t},updateSelectedSculpture:function(e,t){e.selectedSculpture=Object.assign(e.selectedSculpture,t)},updateSculptureIdInScene:function(e,t){console.log("payload",t);var s=t.oldId,r=t.newId,n=window.scene.getObjectByName(s);n?n.name=r:console.error("no object found when updating sculpture ID "),e.selectedSculpture.id=r},removeObjectFromUpdate:function(e,t){var s=e.objectsToUpdate.indexOf(t);-1!=s&&e.objectsToUpdate.splice(s,1)},removeObjectFromRaycast:function(e,t){var s=e.objectsToRaycast.indexOf(t);-1!=s&&e.objectsToRaycast.splice(s,1)},removeObjectFromSceneByName:function(e,t){window.scene.remove(window.scene.getObjectByName(t))},joinRoom:function(e,t){e.currentRoom=t},leaveRoom:function(e,t){e.currentRoom=null}},actions:{setUser:function(e){e.commit("setUser")},getAllUserNames:function(){return i.a.database().ref("usernames").once("value").then((function(e){return e.val()}))},getUserIdFromUsername:function(e,t){return i.a.database().ref("usernames/".concat(t)).once("value").then((function(e){return e.val()}))},getUserName:function(e){var t=e.getters,s=t.getUser;return i.a.database().ref("users/".concat(s.uid)).once("value").then((function(e){return e.val().username}))},setDBUser:function(e,t){var s=t.uid,r=t.user;i.a.database().ref("users/"+s).set(r),i.a.database().ref("usernames/"+r.username).set(s)},saveNewSculpture:function(e,t){return Object(r["a"])(regeneratorRuntime.mark((function s(){var r,n,o,a,c,u;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return r=e.commit,n=e.getters,o=n.getUser,t.uid=o.uid,t.username=o.displayName,t.timestamp=Date.now(),a={oldId:t.id||t.vueId,newId:""},delete t.vueId,c=i.a.database().ref("sculptures").push().key,t.id=c,u=t.isExample&&n.isAdmin?"examples":"sculptures",s.next=12,i.a.database().ref("".concat(u,"/").concat(c)).update(t)["catch"]((function(e){return console.error(e)}));case 12:return s.next=14,i.a.database().ref("users/".concat(o.uid,"/sculptures")).child(c).set(c)["catch"]((function(e){return console.error(e)}));case 14:return a.newId=c,r("updateSelectedSculpture",t),r("updateSculptureIdInScene",a),r("setLoading",!1),r("incrementProfileBadgeCount"),s.abrupt("return",c);case 20:case"end":return s.stop()}}),s)})))()},saveSculpture:function(e,t){var s=e.commit,n=e.dispatch,o=e.getters;return new Promise(function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(r,a){var c,u,l,d,p,m,h;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,s("setLoading",!0),c=Object.assign({},t),delete c.sculpture,console.log("saving sculpture"),u=o.getUser,u||(console.error("Tried to Save Sculpture when a User is not logged in"),a("Tried to Save Sculpture when a User is not logged in")),c.id&&c.id!==c.vueId){e.next=12;break}console.log("saving new sculpture"),r(n("saveNewSculpture",c)),e.next=31;break;case 12:if(c.uid!==u.uid&&!o.isAdmin){e.next=18;break}l=c.isExample&&o.isAdmin?"examples":"sculptures",delete c.vueId,r(i.a.database().ref("".concat(l,"/").concat(c.id)).update(c).then((function(){s("setLoading",!1)}))),e.next=31;break;case 18:return console.log("save as fork"),d=c.forks+=1,p=c.isExample?"examples":"sculptures",e.next=23,i.a.database().ref("".concat(p,"/").concat(c.id,"/forks")).set(d);case 23:return c.isExample=!1,Object.assign(c,{forks:0,uid:u.uid,username:u.displayName,fork:c.id,forkedSculptureTitle:c.title,featured:!1,isExample:!1,views:0,favorites:0,comments:[],commentCount:0}),m={uid:u.uid,username:u.displayName,timestamp:Date.now(),shaderSourceHistory:c.shaderSource,rootId:c.id},e.next=28,n("saveNewSculpture",c);case 28:h=e.sent,m["newSculptureId"]=h,r(i.a.database().ref("forks").push(m).then((function(){s("setLoading",!1)})));case 31:e.next=37;break;case 33:e.prev=33,e.t0=e["catch"](0),console.error(e.t0),a(e.t0);case 37:case"end":return e.stop()}}),e,null,[[0,33]])})));return function(t,s){return e.apply(this,arguments)}}())},removeSelectedSculptureFromScene:function(e){var t=e.commit,s=e.getters,r=s.selectedSculpture;t("removeObjectFromUpdate",r.sculpture),t("removeObjectFromRaycast",r.sculpture.mesh),t("removeObjectFromSceneByName",r.id)},deleteSculpture:function(e,t){var s=e.commit,r=e.getters,n=e.dispatch;s("setLoading",!0);var o=r.getUser;if(t.uid===o.uid){var a=t.isExample&&r.isAdmin?"examples":"sculptures";t.fork&&i.a.database().ref("forks").orderByChild("newSculptureId").equalTo(t.id).once("value").then((function(e){var s=e.val();if(s){var r=Object.keys(s)[0],o=s[r].rootId;n("fetchSculpture",{id:o,isExample:t.isExample}).then((function(e){var t=e.isExample?"examples":"sculptures";e.forks-=1,i.a.database().ref("".concat(t,"/").concat(e.id)).update(e)["catch"]((function(e){return console.error(e)}))})),i.a.database().ref("forks/".concat(r)).remove()["catch"]((function(e){return console.error(e)}))}})),i.a.database().ref("".concat(a,"/").concat(t.id)).remove()["catch"]((function(e){return console.error(e)})),i.a.database().ref("users/".concat(o.uid,"/sculptures/").concat(t.id)).remove().then((function(){s("setLoading",!1)}))["catch"]((function(e){return console.error(e)}))}else console.error("Tried to delete another user's sculpture")},fetchUserSculptures:function(e,t){var s=e.commit,r=e.getters;s("setLoading",!0);var n="sculptures";return r.isAdmin&&(n="examples"),i.a.database().ref(n).orderByChild("username").equalTo(t).once("value").then((function(e){var t=e.val();return t?Object.keys(t).map((function(e){return t[e]})):[]}))["catch"]((function(e){return console.error(e)}))},fetchSculpture:function(e,t){var s=e.commit;e.getters;if(t.id){s("setLoading",!0);var r=t.example?"examples/":"sculptures/";return i.a.database().ref("".concat(r,"/").concat(t.id)).once("value").then((function(e){return s("setLoading",!1),e.val()}))["catch"]((function(e){return console.log(e)}))}console.error("No id passed to fetch sculpture")},fetchSculptures:function(e,t){var s=e.commit,r=e.getters;s("setLoading",!0);r.getUser;return i.a.database().ref(t).once("value").then((function(e){var t=e.val(),r=Object.keys(t).map((function(e){return t[e]}));return s("setLoading",!1),r}))["catch"]((function(e){return console.log(e)}))},fetchAllSculptures:function(e){var t=e.dispatch;return t("fetchSculptures","sculptures")},fetchExampleSculptures:function(e){var t=e.dispatch;return t("fetchSculptures","examples")},fetchForks:function(){return i.a.database().ref("/forks").once("value").then((function(e){return e.val()}))},addComment:function(e,t){var s=e.commit,r=e.getters,n=t.sculpture,o=t.comment;s("setLoading",!0);var a=function(e){var t=e.getMonth()+1,s=e.getDate(),r=e.getFullYear(),n="".concat(t,"/").concat(s,"/").concat(r);return n},c=a(new Date),u=r.getUser;i.a.database().ref("sculptures/".concat(n.id,"/comments")).push({id:u.uid+"_"+Date.now(),username:u.displayName,comment:o,avi:"https://firebasestorage.googleapis.com/v0/b/shader-park-test.appspot.com/o/images%2Favi.52c765c7.png?alt=media&token=90fc07ec-e837-4bd3-815d-d968c1dc2653",date:c,uid:u.uid,sculptureid:n.id}).then((function(){s("setLoading",!1)}))["catch"]((function(e){return console.error(e)}))},uploadDna:function(e,t){var s=e.commit,r=e.getters,n=e.dispatch,o=t.dna;s("setLoading",!0);var a=r.getUser,c="users/".concat(a.uid,"/dna");return i.a.database().ref(c).set(o).then((function(){return s("setLoading",!1),n("fetchSculpture",{id:sculpture.id})}))["catch"]((function(e){return console.error(e)}))},fetchUserComments:function(e,t){var s=e.commit,n=e.getters;return new Promise(function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(r,o){var a,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=n.getUser,a||t){e.next=3;break}return e.abrupt("return");case 3:return a&&(t=a.uid),e.prev=4,e.next=7,i.a.database().ref("users/".concat(t,"/comments")).once("value");case 7:c=e.sent,s("setUserComments",c.val()),r(),e.next=16;break;case 12:e.prev=12,e.t0=e["catch"](4),console.error(e.t0),o(e.t0);case 16:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(t,s){return e.apply(this,arguments)}}())},deleteComment:function(e,t){var s=e.commit,r=e.getters;s("setLoading",!0);var n=r.getUser;if(n){n.uid;var o="sculptures/".concat(t.sculptureid,"/comments/").concat(t.id);return i.a.database().ref(o).remove().then((function(){s("setLoading",!1)}))["catch"]((function(e){return console.error(e)}))}console.error("Tried to delete a comment without a user")},favorite:function(e,t){var s=e.commit,n=e.getters,o=t.sculpture,a=t.favorited;return new Promise(function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,r){var c,u,l,d,p,m,h,f,v;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s("setLoading",!0),c=n.userFavorites,u=n.getUser,u||(console.error("Tried to favorite Sculpture when a User is not logged in"),r("Tried to favorite Sculpture when a User is not logged in")),l=o.isExample?"examples":"sculptures",e.next=7,i.a.database().ref("".concat(l,"/").concat(o.id,"/favorites")).transaction((function(e){var t;return t=a?(e||0)+1:Math.max((e||0)-1,0),o.favorites=t,s("setCurrSculpture",o),t}))["catch"]((function(e){return console.error(e)}));case 7:if(d=Date.now(),p="users/".concat(u.uid,"/favorites/").concat(o.id),!a){e.next=19;break}return m={id:u.uid+"_"+d,uid:u.uid,timestamp:d,sculptureId:o.id},h=i.a.database().ref("favorites/").push(m).key,e.next=14,i.a.database().ref(p).set(h)["catch"]((function(e){return console.error(e)}));case 14:c&&c.constructor===Object||(c={}),c[o.id]=h,Ae.commit("setUserFavorites",c),e.next=29;break;case 19:return e.next=21,i.a.database().ref(p).once("value");case 21:return f=e.sent,v=f.val(),delete c[o.id],Ae.commit("setUserFavorites",c),e.next=27,i.a.database().ref(p).remove()["catch"]((function(e){return console.error(e)}));case 27:return e.next=29,i.a.database().ref("favorites/".concat(v)).remove()["catch"]((function(e){return console.error(e)}));case 29:s("setLoading",!1),t();case 31:case"end":return e.stop()}}),e)})));return function(t,s){return e.apply(this,arguments)}}())},fetchUserFavorites:function(e,t){var s=e.commit,n=e.getters;return new Promise(function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(r,o){var a,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=n.getUser,a||t){e.next=3;break}return e.abrupt("return");case 3:return a&&(t=a.uid),e.prev=4,e.next=7,i.a.database().ref("users/".concat(t,"/favorites")).once("value");case 7:c=e.sent,s("setUserFavorites",c.val()),r(),e.next=16;break;case 12:e.prev=12,e.t0=e["catch"](4),console.error(e.t0),o(e.t0);case 16:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(t,s){return e.apply(this,arguments)}}())}}}),Me=void 0;window.anime=g["a"],n["initializeApp"](Ee),l["a"].use(m["a"]),l["a"].use(v["a"]),l["a"].use(p.a,{dialog:!0}),l["a"].use(f.a),l["a"].config.devtools=!0;var ze,Be,Re=n["storage"]().ref(),Ne=new m["a"]({routes:Ie,mode:"history",base:"/cryptogene/"}),We=!1,Ge=!1,qe=!1,He={opacity:0},Ye={opacity:0},Ve=!0,Je=null,Ke=!1;Ne.beforeEach((function(e,t,s){var r=n["auth"]().currentUser,i=function(){Ae.state.selectedObject=null,We=!0,He.opacity=0,qe=!1,Ge=!1,Ye.opacity=0,Ae.state.selectedSculpture=null,ze=null,Be=null,Ve=!0;var t=e.matched.some((function(e){return e.meta.requiresAuth}));t&&!r?Me.$store.commit("displayLogin",!0):(Ae.state.displayCanvas=!1,s()),We=!1};if(Ae.state.selectedSculpture){var o=Ae.state.selectedSculpture.id;$t(o,0,1e3).then((function(){var t=e.matched.some((function(e){return e.meta.selectedSculpture}));t||(Ae.state.selectedSculpture=null),setTimeout((function(){Ae.state.displayCanvas=!1,i()}),300)}))}else Ae.state.sculpturesLoaded?Ae.state.displayCanvas?jt(0,1e3).then((function(){Ae.state.displayCanvas=!1,i()})):i():(Ae.state.displayCanvas=!1,i())}));var Qe,Xe=!0;n["auth"]().onAuthStateChanged((function(e){Xe?(Qe=new l["a"]({el:"#app",store:Ae,router:Ne,render:function(e){return e($e)}}),ft(),Qe.$store.subscribeAction(function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,s){var i,o,a,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=t.payload,o=t.type,e.next=3,i;case 3:"saveNewSculpture"!==o&&"saveSculpture"!==o||i.uid!==n["auth"]().currentUser.uid&&"K3lAQQTKbiTiVXlwRZouH4OrWyv1"!==n["auth"]().currentUser.uid||(a=null,c=!1,s.selectedSculpture&&s.selectedSculpture.sculpture&&s.selectedSculpture.sculpture.pedestal&&(a=s.selectedSculpture.sculpture.pedestal,c=a.visible,a.visible=!1),setTimeout((function(){yt(function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var s,r,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,a&&c&&(a.visible=!0),console.log("captured image","uploading to id",i.id),e.next=5,Re.child("sculptureThumbnails/".concat(i.id,".png")).put(t);case 5:return s=e.sent,console.log("uploaded"),e.next=9,s.ref.getDownloadURL();case 9:r=e.sent,r&&(console.log("thumbnail url",r),o="sculptures",i.isExample&&(o="examples"),n["database"]().ref(o).child(i.id).update({thumbnail:r})),e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](0),console.error(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}(),!1)}),1));case 4:case"end":return e.stop()}}),e)})));return function(t,s){return e.apply(this,arguments)}}()),Xe=!1):Ae.dispatch("setUser")}));var Ze=new o["o"];window.scene=Ze;var et,tt,st,rt,nt,it=new o["l"](75,window.innerWidth/window.innerHeight,1e-4,180);window.camera=it;var ot=new o["s"],at=new o["n"],ct=new o["h"](16777215,16777215),ut=Date.now(),lt=window.innerWidth/2,dt=!1,pt=8;window.fogDistance=pt;var mt,ht=new o["r"];function ft(){nt=document.querySelector(".canvas-container"),et=new o["u"]({antialias:!0,preserveDrawingBuffer:!0,powerPreference:"high-performance",alpha:!0}),et.setSize(nt.clientWidth,nt.clientHeight),lt={width:nt.clientWidth,height:nt.clientHeight},Object.assign(Ae.state.canvasSize,lt),et.setPixelRatio(window.devicePixelRatio),et.setClearColor(0,0),nt.appendChild(et.domElement),rt=document.querySelector("canvas"),rt.setAttribute("tabindex","0"),rt.addEventListener("click",(function(e){e.target.focus()})),rt.addEventListener("mousemove",Ct,!1),Je=bt((function(){return console.log("capturing render")}),rt),tt=new a["b"](it,et.domElement),tt.enableDamping=!0,tt.enablePan=!1,tt.dampingFactor=.25,tt.zoomSpeed=.5,tt.rotateSpeed=.5,tt.keys={LEFT:65,UP:87,RIGHT:68,BOTTOM:83},st=new a["a"](it,et.domElement),st.enableDamping=!0,st.dampingFactor=.25,st.screenSpacePanning=!1,st.maxPolarAngle=Math.PI/2,window.mapControls=st,window.controls=tt,Ze.add(ct),gt()}function vt(){if(Ae.state.initialCameraPose&&Ve){Ve=!1;var e=Ae.state.initialCameraPose;it.position.set(e[0],e[1],e[2]),tt.target.set(e[0],0,0),st.target.set(e[0],0,0)}}function gt(e){We||requestAnimationFrame(gt);var t=(Date.now()-ut)%6e5;if(Ae.state.canvasSize.width===lt.width&&Ae.state.canvasSize.height===lt.height||(Object.assign(lt,Ae.state.canvasSize),Ot()),1==Ae.state.objectsToUpdate.length&&(tt.enabled=!0,st.enabled=!1),Ae.state.selectedSculpture){if(!Ge){vt(),jt(0,1e3,Ae.state.selectedSculpture.id),$t(Ae.state.selectedSculpture.id,1,1e3);var s=new o["t"];s.setFromMatrixPosition(Ae.state.selectedObject.matrixWorld),Be=it.position,Ut(s),Ge=!0,st.enabled=!1,tt.enabled=!0,ze=Ae.state.selectedSculpture.id}qe=!1}else!qe&&Ae.state.sculpturesLoaded?(qe=!0,st.enabled=!0,tt.enabled=!1,vt(),jt(1,1e3,ze)):qe&&Be&&(Et(it.position.y,Ae.state.initialCameraPose[1],(function(e){return it.position.y=e})),Be=null),Ge=!1;var r=.001*t;Ae.state.objectsToUpdate.forEach((function(e){if(!Ae.state.selectedSculpture&&!dt&&Ae.state.sculpturesLoaded){var t=Tt(e);e.setOpacity(t)}var s=[];s.push({name:"time",value:r,type:"float"},{name:"resolution",value:new o["s"](nt.clientWidth,nt.clientHeight),type:"vec2"}),Ae.state.selectedSculpture&&Ae.state.selectedSculpture.sculpture===e&&e&&e.uniforms&&(window.uniforms=e.uniforms,s=s.concat(e.uniforms)),e.update(s)}));var n=Ae.state.objectsToRaycast;if(n.length>0){at.setFromCamera(ot,it);var i=at.intersectObjects(n);if(i.length>0){var a=i[0].object;a.material.side=o["f"];var c=at.intersectObjects(n);c.length>0?a.material.uniforms.mouse.value=c[0].point.sub(a.position):a.material.uniforms.mouse.value=it.position.clone().sub(a.position),a.material.side=o["a"],null===Ae.state.selectedSculpture&&Ae.state.clickEnabled&&(rt.style.cursor="pointer",Ae.state.intersectedObject=a)}else null===Ae.state.selectedSculpture&&(rt.style.cursor="auto",Ae.state.intersectedObject=null)}u["a"].update(e);var l=!Ae.state.selectedSculpture;st.enableKeys=l,tt.enableKeys=l,tt.enabled&&tt.update(),st.enabled&&st.update(),et.render(Ze,it)}function bt(e,t){var s={videoBitsPerSecond:25e5,mimeType:"video/webm;"};if("undefined"!==typeof MediaRecorder&&navigator.getUserMedia){var r=new MediaRecorder(t.captureStream(),s),n=[];return r.ondataavailable=function(e){e.data.size>0&&n.push(e.data)},r.onstart=function(){e(!0)},r.onstop=function(t){e(!1);var r=new Blob(n,s);if(n=[],t){window.URL.createObjectURL(r);var i=window.URL.createObjectURL(r),o=document.createElement("a");document.body.appendChild(o),o.style="display: none",o.href=i,o.download="capture.webm",o.click(),window.URL.revokeObjectURL(i)}return r},r}console.error("recorder unsupported")}function yt(e,t){return rt.toBlob((function(s){if(t){var r=window.URL.createObjectURL(s),n=document.createElement("a");document.body.appendChild(n),n.style="display: none",n.href=r,n.download="capture.png",n.click(),window.URL.revokeObjectURL(r)}e(s)}),"image/png",1)}function wt(e){if(Ke)return Ke=!1,Je.stop(e);Je.start(),Ke=!0}function St(e,t){t.target.nodeName,t.altKey&&e&&("r"!==t.key&&"Â®"!==t.key||wt(!0))}function Ct(e){nt&&(ot.x=(e.clientX-nt.offsetLeft)/nt.clientWidth*2-1,ot.y=-(e.clientY-nt.offsetTop)/nt.clientHeight*2+1)}ht.load("/img/icons/msdf-left-align.png",(function(e){Ae.commit("setMSDFTexture",e)}),void 0,(function(e){console.error("An error happened.",e)})),window.addEventListener("resize",Ot,!1),window.addEventListener("mousedown",xt,!1),window.addEventListener("mouseup",kt,!1),document.addEventListener("keydown",St.bind(null,!0)),document.addEventListener("keyup",St.bind(null,!1));var _t=0;function xt(e){Ae.state.intersectedObject?(mt=Ae.state.intersectedObject,_t=Date.now()):Ae.state.selectedObject=null}function kt(e){!Ae.state.selectedObject&&Ae.state.clickEnabled&&(Ae.state.intersectedObject&&Ae.state.intersectedObject===mt?(_t=Date.now()-_t,_t<400&&"examples"===Ne.currentRoute.name&&(Ae.state.selectedObject=Ae.state.intersectedObject,Ye.opacity=1,rt.style.cursor="auto")):Ae.state.selectedObject=null,mt=null)}function Ut(e){var t,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;tt.enabled?(t=(new o["t"]).copy(tt.target),st.target=(new o["t"]).copy(tt.target)):(t=(new o["t"]).copy(st.target),tt.target=(new o["t"]).copy(st.target));var r=new u["a"].Tween(t).to(e,s).easing(u["a"].Easing.Quadratic.InOut).onUpdate((function(){tt.target.set(t.x,t.y,t.z),st.target.set(t.x,t.y,t.z)})),n=(new o["t"]).copy(it.position),i=(new o["t"]).copy(e);i.z+=2;var a=new u["a"].Tween(n).to(i,s).easing(u["a"].Easing.Quadratic.InOut).onUpdate((function(){it.position.set(n.x,n.y,n.z)}));a.start(),r.start()}function $t(e,t){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2e3;return dt=!0,new Promise((function(r,n){var i=Ae.state.objectsToUpdate.filter((function(t){return t.mesh.name===e}));0==i.length?n():i=i[0];var o=new u["a"].Tween(Ye).to({opacity:t},s).easing(u["a"].Easing.Quadratic.InOut).onUpdate((function(){i.setOpacity(Ye.opacity)})).onComplete((function(){dt=!1,r()}));o.start()}))}function Et(e,t,s){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e3;return new Promise((function(n,i){var o={state:e},a=new u["a"].Tween(o).to({state:t},r).easing(u["a"].Easing.Quadratic.InOut).onUpdate((function(){s(o.state)})).onComplete((function(){return n()}));a.start()}))}function jt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;dt=!0;var r=Ae.state.objectsToUpdate.filter((function(e){return Tt(e)>0}));return new Promise((function(n,i){var o=new u["a"].Tween(He).to({opacity:e},t).easing(u["a"].Easing.Quadratic.InOut).onUpdate((function(){r.forEach((function(t){var r=Tt(t);0==t.opacity&&0==e||(!s&&r||t.mesh.name!==s)&&t.setOpacity(Math.min(He.opacity,r))}))})).onComplete((function(){dt=!1,n()}));o.start()}))}function Tt(e){var t=e.mesh.position.distanceTo(it.position);return Math.min(Math.max(0,window.fogDistance-.5*t),1)}function Ot(){nt&&(it.aspect=nt.clientWidth/nt.clientHeight,it.updateProjectionMatrix(),et.setSize(nt.clientWidth,nt.clientHeight))}window.onCanvasResize=Ot},"5ace":function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"auth-container"},[s("button",{staticClass:"close-auth",on:{click:e.close}}),s("form",{on:{submit:function(e){e.preventDefault()}}},[s("span",{directives:[{name:"show",rawName:"v-show",value:e.$v.email.$error,expression:"$v.email.$error"}]},[e._v("please enter a valid email")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"input w-input",attrs:{type:"email",placeholder:"email:"},domProps:{value:e.email},on:{blur:function(t){return e.$v.email.$touch()},input:function(t){t.target.composing||(e.email=t.target.value)}}}),s("span",{directives:[{name:"show",rawName:"v-show",value:!e.$v.username.unique,expression:"!$v.username.unique"}]},[e._v("username is taken")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],staticClass:"input w-input",attrs:{type:"text",placeholder:"username:"},domProps:{value:e.username},on:{blur:function(t){return e.$v.username.$touch()},input:function(t){t.target.composing||(e.username=t.target.value)}}}),s("span",{directives:[{name:"show",rawName:"v-show",value:e.$v.password.$error,expression:"$v.password.$error"}]},[e._v("password must be 6 or more characters")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"input w-input",attrs:{type:"password",placeholder:"password:"},domProps:{value:e.password},on:{blur:function(t){return e.$v.password.$touch()},input:function(t){t.target.composing||(e.password=t.target.value)}}}),s("button",{staticClass:"button",attrs:{type:"submit",disabled:e.$v.$invalid},on:{click:e.signUp}},[e._v("Sign Up")])])])},n=[],i=(s("b64b"),s("caad"),s("2532"),s("59ca")),o=s.n(i),a=(s("6eba"),s("0d03"),{username:"",created:Date.now(),email:"",website:null,bio:null,"profile-picture":null,favorites:[],sketches:[],followers:[],following:[],notifications:[]}),c=s("b5ae"),u={data:function(){return{email:"",username:"",password:"",allUserNames:[]}},created:function(){var e=this;this.$store.dispatch("getAllUserNames").then((function(t){e.allUserNames=Object.keys(t)}))},validations:{email:{required:c["required"],email:c["email"]},username:{required:c["required"],unique:function(e,t){return""==e||!t.allUserNames.includes(e)}},password:{required:c["required"],minLength:Object(c["minLength"])(6)}},methods:{signUp:function(){var e=this;o.a.auth().createUserWithEmailAndPassword(this.email,this.password).then((function(t){t.user.updateProfile({displayName:e.username});var s=t.user.uid,r=Object.assign(a,{username:e.username,email:e.email});o.a.database().ref("users").child(s).set(r),e.$store.dispatch("setDBUser",{user:r,uid:s}),e.$store.dispatch("fetchUserFavorites"),e.$store.commit("displaySignUp",!1)}),(function(e){alert(e.message)}))},close:function(){this.$store.commit("displaySignUp",!1)}}},l=u,d=(s("eed5"),s("2877")),p=Object(d["a"])(l,r,n,!1,null,null,null);t["default"]=p.exports},"5f32":function(e,t,s){"use strict";s("8406")},6482:function(e,t,s){"use strict";s("72eb")},"677f":function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"auth-container"},[s("button",{staticClass:"close-auth",on:{click:e.close}}),s("form",{on:{submit:function(e){e.preventDefault()}}},[s("span",{directives:[{name:"show",rawName:"v-show",value:e.$v.email.$error,expression:"$v.email.$error"}]},[e._v("please enter a valid email")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"input w-input",attrs:{type:"email",placeholder:"email:"},domProps:{value:e.email},on:{blur:function(t){return e.$v.email.$touch()},input:function(t){t.target.composing||(e.email=t.target.value)}}}),s("span",{directives:[{name:"show",rawName:"v-show",value:e.$v.password.$error,expression:"$v.password.$error"}]},[e._v("password must be 6 or more characters")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"input w-input",attrs:{type:"password",placeholder:"password:"},domProps:{value:e.password},on:{blur:function(t){return e.$v.password.$touch()},input:function(t){t.target.composing||(e.password=t.target.value)}}}),s("button",{staticClass:"button",attrs:{type:"submit",disabled:e.$v.$invalid},on:{click:e.signIn}},[e._v("Sign In")]),e.currUser?e._e():s("button",{staticClass:"link sign-up",attrs:{"active-class":"active"},on:{click:e.signUp}},[e._v("Sign Up")])])])},n=[],i=(s("4795"),s("59ca")),o=s.n(i),a=s("b5ae"),c={data:function(){return{email:"",password:""}},computed:{isDisabled:function(){return!(this.email.length>0&&this.password.length>0)},currUser:function(){return this.$store.getters.getUser}},validations:{email:{required:a["required"],email:a["email"]},password:{required:a["required"],minLength:Object(a["minLength"])(6)}},methods:{signIn:function(){var e=this;o.a.auth().signInWithEmailAndPassword(this.email,this.password).then((function(t){e.$store.commit("displayLogin",!1),setTimeout((function(){e.$store.dispatch("fetchUserFavorites")}),1),setTimeout((function(){e.$store.dispatch("fetchUserComments")}),1)}),(function(e){alert(e.message)}))},signUp:function(){this.$store.commit("displaySignUp",!0)},close:function(){this.$store.commit("displayLogin",!1)}}},u=c,l=(s("d73d"),s("2877")),d=Object(l["a"])(u,r,n,!1,null,"22faa652",null);t["default"]=d.exports},6860:function(e,t,s){},"72eb":function(e,t,s){},"760c":function(e,t,s){"use strict";s("c3f5")},"77fa":function(e,t,s){"use strict";s("b925")},8080:function(e,t,s){"use strict";var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div")},n=[],i=(s("a4d3"),s("e01a"),s("6eba"),s("0d03"),s("fb6a"),s("4795"),s("b0c0"),s("4de4"),s("d4ec")),o=s("bee2"),a=(s("4160"),s("159b"),s("5a89"));function c(e,t){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.005,r=e*s,n=new a["b"](r,r,e+1*r),i=new a["b"](r,t,r),o=new a["b"](e,r,r),c=new a["k"]({color:new a["d"](1,1,1)}),u=new a["g"],l=new a["j"](n,c);l.position.x-=.5*e,l.position.y+=.5*t,u.add(l);var d=new a["j"](n,c);d.position.x+=.5*e,d.position.y+=.5*t,u.add(d);var p=new a["j"](n,c);p.position.x-=.5*e,p.position.y-=.5*t,u.add(p);var m=new a["j"](n,c);m.position.x+=.5*e,m.position.y-=.5*t,u.add(m);var h=new a["j"](o,c);h.position.z+=.5*e,h.position.y+=.5*t,u.add(h);var f=new a["j"](o,c);f.position.z-=.5*e,f.position.y+=.5*t,u.add(f);var v=new a["j"](i,c);v.position.x-=.5*e,v.position.z+=.5*e,u.add(v);var g=new a["j"](i,c);g.position.x+=.5*e,g.position.z+=.5*e,u.add(g);var b=new a["j"](i,c);b.position.x-=.5*e,b.position.z-=.5*e,u.add(b);var y=new a["j"](i,c);y.position.x+=.5*e,y.position.z-=.5*e,u.add(y);var w=new a["j"](o,c);w.position.z+=.5*e,w.position.y-=.5*t,u.add(w);var S=new a["j"](o,c);return S.position.z-=.5*e,S.position.y-=.5*t,u.add(S),u}var u=s("05b2"),l=function(){function e(t,s,r){var n=this;if(Object(i["a"])(this,e),this.uniformsToExclude={sculptureCenter:0,msdf:0,opacity:0,time:0,stepSize:0,_scale:1,resolution:0},this.IsGLSL=t,this.payload={msdfTexture:r},this.source=s,this.compileError=null,t)try{this.mesh=Object(u["glslToThreeJSMesh"])(s,this.payload)}catch(d){console.error(d),this.mesh=Object(u["glslToThreeJSMesh"])(u["defaultFragSourceGLSL"],this.payload),this.compileError=d}else{try{this.mesh=Object(u["sculptToThreeJSMesh"])(s,this.payload)}catch(d){console.error(d),this.mesh=Object(u["sculptToThreeJSMesh"])('\nlet jsonObj = {\n    "rs369202065": { chromosome: 1, genotype: "AA" },\n    "rs199476136": { chromosome: 2, genotype: "AC" },\n    "rs190214723": { chromosome: 3, genotype: "CC" },\n    "rs3131972": { chromosome: 4, genotype: "GG" },\n    "rs12562034": { chromosome: 5, genotype: "GA" },\n    "rs115093905": { chromosome: 6, genotype: "GG" },\n    "rs11888922": { chromosome: 7, genotype: "TC" },\n    "rs730402": { chromosome: 8, genotype: "AG" },\n    "rs763297": { chromosome: 9, genotype: "TC" },\n    "rs9653546": { chromosome: 10, genotype: "AG" },\n    "r6545760": { chromosome: 11, genotype: "AG" },\n    "rs17400093": { chromosome: 12, genotype: "TT" },\n    "rs17328175": { chromosome: 13, genotype: "??" },\n    "rs1005038": { chromosome: 14, genotype: "TC" },\n    "rs11721321": { chromosome: 15, genotype: "TC" },\n    "rs7652589": { chromosome: 16, genotype: "AG" },\n    "rs7648041": { chromosome: 17, genotype: "TC" },\n    "rs4678029": { chromosome: 18, genotype: "TT" },\n    "rs1501900": { chromosome: 19, genotype: "TA" },\n    "rs1814740": { chromosome: 20, genotype: "AG" },\n    "rs16832787": { chromosome: 21, genotype: "GG" },\n    "rs1405687": { chromosome: 22, genotype: "GG" },\n    "rs2851057": { chromosome: 23, genotype: "TG" },\n  \t"rs3692020634": { chromosome: 1, genotype: "AA" },\n  \t"rs1994761399": { chromosome: 2, genotype: "AC" },\n  "rs19021472399": { chromosome: 3, genotype: "CC" },\n    "rs31cs3197299": { chromosome: 4, genotype: "CT" },\n    "rs12sc56203499": { chromosome: 5, genotype: "GA" },\n    "rs115093909599": { chromosome: 6, genotype: "GG" },\n    "rs118s8892200": { chromosome: 7, genotype: "AA" },\n    "rs730hd402979": { chromosome: 8, genotype: "AG" },\n    "rs763h279799": { chromosome: 9, genotype: "TC" },\n    "rs965h3574699": { chromosome: 10, genotype: "AG" },\n    "r6547h5767099": { chromosome: 11, genotype: "AG" },\n    "rs17h40707093": { chromosome: 12, genotype: "CG" },\n    "rs17893278175": { chromosome: 13, genotype: "AT" },\n    "rs108h90jk885038": { chromosome: 14, genotype: "TC" },\n    "rs11721321": { chromosome: 15, genotype: "TC" },\n    "rs7652589": { chromosome: 16, genotype: "AG" },\n    "rs76489041": { chromosome: 17, genotype: "CG" },\n    "rs467998029": { chromosome: 18, genotype: "CA" },\n    "rs150991900": { chromosome: 19, genotype: "TA" },\n    "rs181994740": { chromosome: 20, genotype: "CT" },\n    "rs1689932787": { chromosome: 21, genotype: "GT" },\n    "rs140995687": { chromosome: 22, genotype: "TC" },\n    "rs2859991057": { chromosome: 23, genotype: "TC" },\n};\nlet colorObj = {\n    "1st" : {\n        "A" : vec3(1.0, 0.0, 0.0),\n        "C" : vec3(0.0, 0.0, 1.0),\n        "G" : vec3(0.0,1.0,0.0),\n        "T" : vec3(1.0, 1.0, 0.0),\n        "?" : vec3(0.0,0.0,0.0)\n    },\n    "A" : {\n        "A" : vec3(-2.5, 0.0, -0.50),\n        "C" : vec3(0.4, -0.50, 0.5),\n        "G" : vec3(-0.5,0.50,-0.5),\n        "T" : vec3(-1.5,0.8,-0.5),\n        "?" : vec3(1.0,1.0,1.0)\n    },\n    "C" : {\n        "A" : vec3(-0.4,0.0,-2.5),\n        "C" : vec3(0.0,0.0,2.5),\n        "G" : vec3(0.0,-1.2,-2.5),\n        "T" : vec3(0.2,1.2,2.5),\n        "?" : vec3(0.0,0.0,0.0)\n    },\n    "G" : {\n        "A" : vec3(-0.8,-2.5,0.30),\n        "C" : vec3(0.0,-2.5,-1.2),\n        "G" : vec3(0.0,-2.5,0.0),\n        "T" : vec3(1.2,2.5,0.2),\n        "?" :  vec3(0.0,0.0,0.0)\n    },\n    "T" : {\n        "A" : vec3(-2.5, -2.5, -0.5),\n        "C" : vec3(0.1,-0.50,0.9),\n        "G" : vec3(0.1,-0.50,0.7),\n        "T" : vec3(-2.5, -2.5, 0.0),\n        "?" : vec3(0.0,0.0,0.0)\n    },\n    "?" :{\n        "?" :  vec3(0.0,0.0,0.0)\n    }\n}\n\n//sphere(0.3);\nlet  shapeStr = (jsonList, colorObj) => {\n    let thickness = 0.03, zero = 0.0;\n    let xyzPhosphate = [vec3(0.2, 0.2, zero), vec3(-0.2, -0.2, zero)];\n    let xyzSnp = [[vec3(0.2, 0.2, zero), vec3(0.02, 0.02, zero)], [vec3(-0.2, -0.2,zero), vec3(-0.02, -0.02, zero)] ];\n\trotateX(PI/3);\n    let createStrand = (vec3Color1, vec3Color2) => {  \n        rotateX(PI/3);\n        let pairPhosphates = function () {\n            color(vec3(1.0,1.0,1.0));\n            line(xyzPhosphate[0], xyzPhosphate[0], thickness * 2);\n            line(xyzPhosphate[1], xyzPhosphate[1], thickness * 2);\n        };\n        let pairSnps = function () {\n          \trotateZ(2.75);\n            color(vec3Color1);\n            line(xyzSnp[0][0], xyzSnp[0][1], thickness);\n            color(vec3Color2);\n            line(xyzSnp[1][0], xyzSnp[1][1], thickness);\n        }\n        pairSnps();\n        pairPhosphates();\n        displace(-0.2, 0.1041, 0.0141); \n\n    \n    };\n    displace(-0.3,-1.930,1.0);\n\n    let getColorGene = (jsonObj, colorObj) => {\n        for (let [key,value] of Object.entries(jsonList)) {\n        createStrand(colorObj["1st"][[value.genotype[0]]],colorObj[value.genotype[0]][value.genotype[1]])\n        }\n    }\n    getColorGene(jsonObj, colorObj)\n}\nshapeStr(jsonObj, colorObj);\n',this.payload),this.compileError=d}this.uniforms=this.mesh.material.uniformDescriptions,this.uniforms=this.uniforms.filter((function(e){return!(e.name in n.uniformsToExclude)}))}var o=new a["c"](2,1,2);this.opacity=0,this.stepSize=.8;var l=new a["k"]({color:new a["d"](.95,.95,.95),transparent:!0,opacity:this.opacity});this.pedestal=new a["j"](o,l),this.sepBuffer=.05,this.pedestal.position.set(0,-1.5-this.sepBuffer,0),this.mesh.add(this.pedestal),this.pedestalEdges=c(2,1),this.pedestalEdges.position.set(0,-1.5-this.sepBuffer,0),this.selected=!1,this.setOpacity(0)}return Object(o["a"])(e,[{key:"setMSDFTexture",value:function(e){this.payload.msdfTexture=e}},{key:"selectedSculpture",value:function(e){this.pedestal.visible&&(this.mesh.remove(this.pedestalEdges),e?(this.pedestalEdges=c(2,1,.015),this.pedestalEdges.position.set(0,-1.5-this.sepBuffer,0),this.mesh.add(this.pedestalEdges)):(this.pedestalEdges=c(2,1),this.pedestalEdges.position.set(0,-1.5-this.sepBuffer,0),this.mesh.add(this.pedestalEdges)),this.selected=e)}},{key:"setOpacity",value:function(e){this.opacity=e,this.mesh.visible=0!==e,this.pedestal.material.opacity=this.opacity}},{key:"refreshMaterial",value:function(e){var t=this;if(e&&(this.source=e),this.IsGLSL)try{this.mesh.material=Object(u["glslToThreeJSMaterial"])(this.source,this.payload)}catch(s){throw console.error(s),s}else{try{this.mesh.material=Object(u["sculptToThreeJSMaterial"])(this.source,this.payload)}catch(s){throw s}this.uniforms=this.mesh.material.uniformDescriptions,this.uniforms=this.uniforms.filter((function(e){return!(e.name in t.uniformsToExclude)}))}}},{key:"update",value:function(e){var t=this;this.mesh.material.uniforms["opacity"].value=this.opacity,this.mesh.material.uniforms["msdf"].value=this.payload.msdfTexture,e.forEach((function(e){e&&e.name&&(t.mesh.material.uniforms[e.name].value=e.value)}))}}]),e}();var d={props:["sculpData","sculpPosition"],metaInfo:function(){return{title:"Chromagene",meta:[{property:"og:title",content:"Chromagene"},{property:"og:site_name",content:"Chromagene"},{property:"og:type",content:"website"},{property:"og:image",content:this.thumbnail},{property:"og:description",content:this.title},{name:"twitter:card",content:"summary"},{name:"twitter:title",content:"Chromagene"},{name:"twitter:description",content:this.title},{name:"twitter:image:src",content:this.thumbnail},{itemprop:"name",content:"Chromagene"},{itemprop:"description",content:this.title},{itemprop:"image",content:this.thumbnail}]}},data:function(){return{id:this.sculpData.id||this._uid,vueId:this._uid,uid:this.sculpData.uid||null,username:this.sculpData.username||null,title:this.sculpData.title||null,isExample:this.sculpData.isExample||!1,description:this.sculpData.description||null,tags:this.sculpData.tags||null,timestamp:this.sculpData.timestamp||Date.now(),favorites:this.sculpData.favorites||0,views:this.sculpData.views||0,comments:this.sculpData.comments||0,forks:this.sculpData.forks||0,fork:this.sculpData.fork||null,featured:this.sculpData.featured||!1,visibility:this.sculpData.visibility||"public",license:this.sculpData.license||null,shaderSource:this.sculpData.shaderSource||(this.sculpData.type&&"glsl"===this.sculpData.type?u["defaultFragSourceGLSL"]:"line(vec3(0.2, 0.2, 0.0), vec3(0.2, 0.2, 0.0), 0.06); line(vec3(-0.2, -0.2, 0.0), vec3(-0.2, -0.2, 0.0), 0.06); line(vec3(0.2, 0.2, 0.0), vec3(0.02, 0.02, 0.0), 0.03); line(vec3(-0.2, -0.2,0.0), vec3(-0.02, -0.02, 0.0), 0.03);"),type:this.sculpData.type||"js",saved:!!this.sculpData.shaderSource,thumbnail:this.sculpData.thumbnail||null,sculpture:null}},mounted:function(){var e=this,t=this.shaderSource.slice();this.sculpture=new l("js"!==this.type,t,this.MSDFTexture),this.sculpture.compileError&&setTimeout((function(){e.$store.commit("setSculptureError",e.sculpture.compileError)}),300),this.sculpPosition&&this.setPose(this.sculpPosition),this.id?this.sculpture.mesh.name=this.id:this.sculpture.mesh.name=this._uid,window.scene.add(this.sculpture.mesh),this.$store.state.objectsToUpdate.push(this.sculpture),this.$store.state.objectsToRaycast.push(this.sculpture.mesh),this.$store.state.currSculpture=this.$data,this.$store.state.selectedObject&&this.setSelectedSculpture(this.$store.state.selectedObject)},watch:{shaderSource:function(e){if(this.sculpture){this.shaderSource=e;try{this.sculpture.refreshMaterial(e)}catch(t){this.$store.commit("setSculptureError",t)}}},selectedObject:function(e){this.setSelectedSculpture(e)},id:function(e){console.log("id of sculp changed to"+e)}},computed:{currUserID:function(){return this.$store.getters.getUser.uid},selectedObject:function(){return this.$store.state.selectedObject},MSDFTexture:function(){return this.$store.getters.getMSDFTexture}},methods:{setPose:function(e){this.sculpture.mesh.position=this.sculpPosition},setSaved:function(e){this.saved=e},setSelectedSculpture:function(e){var t={sculptureCenter:0,msdf:0,opacity:0,time:0,resolution:0};e&&this.sculpture&&this.sculpture.mesh&&this.sculpture.mesh.name&&e.name==this.sculpture.mesh.name?(this.$store.state.selectedSculpture=this.$data,this.$store.state.currSculpture=this.$data,this.sculpture.uniforms&&(this.sculpture.uniforms=this.sculpture.uniforms.filter((function(e){return!(e.name in t)}))),this.sculpture.selectedSculpture(!0)):this.sculpture&&this.sculpture.selected&&this.sculpture.selectedSculpture(!1)},removeSculpture:function(){var e=this.id||this._uid;this.$store.commit("removeObjectFromUpdate",this.sculpture),this.$store.commit("removeObjectFromRaycast",this.sculpture.mesh),this.$store.commit("removeObjectFromSceneByName",e)}},destroyed:function(){this.removeSculpture()}},p=d,m=s("2877"),h=Object(m["a"])(p,r,n,!1,null,null,null);t["a"]=h.exports},8406:function(e,t,s){},"8a92":function(e,t,s){"use strict";s.d(t,"a",(function(){return r}));s("b64b");var r=function(e,t){0!==Object.keys(t.$store.getters.unsavedChanges).length?t.$modal.show("dialog",{title:"Unsaved Changes",text:"Are you sure you want to leave and discard changes?",buttons:[{title:"Leave & Discard Changes",handler:function(){t.$store.commit("resetUnsavedChanges"),e(),t.$modal.hide("dialog")}},{title:"Cancel",default:!0,handler:function(){return t.$modal.hide("dialog")}}]}):e()}},"8baf":function(e,t,s){"use strict";s("6860")},"94d4":function(e,t,s){"use strict";var r=s("2e93"),n=s.n(r);t["default"]=n.a},"94fb":function(e,t,s){"use strict";s("3ea0")},"96f2":function(e,t,s){e.exports=s.p+"img/close.e16fd437.svg"},a30e:function(e,t,s){},b35e:function(e,t,s){"use strict";s.d(t,"a",(function(){return r})),s.d(t,"b",(function(){return n}));var r=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},n=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("footer",{attrs:{id:"footer"}},[s("div",{attrs:{id:"footer-utility"}},[s("div",{staticClass:"footer__chat imgborderround"},[s("ul",{staticClass:"footer__ul"},[s("h3",{staticClass:"footer__left"},[e._v("Chromagene")]),s("li",{staticClass:"footer__li"},[s("a",{staticClass:"footer__a",attrs:{href:"/#"}},[e._v("Privacy Policy")])]),s("li",{staticClass:"footer__li"},[s("a",{staticClass:"footer__a",attrs:{href:"/#"}},[e._v("Terms and Conditions")])]),s("li",{staticClass:"footer__li"},[s("img",{staticClass:"footer__chat-img-icon footer__li",attrs:{width:"18",alt:"footer",height:"14",src:"https://res.cloudinary.com/cloudinary-account/image/upload/v1469462241/msg_jn0whe.svg",href:"#"}}),e._v("Chat")]),s("li",{staticClass:"footer__li"},[s("img",{staticClass:"footer__chat-img-icon footer__li",attrs:{width:"15",alt:"footer",height:"15",src:"https://res.cloudinary.com/cloudinary-account/image/upload/v1469462243/phone_zfj4ey.svg",href:"#"}}),e._v("1-206-561-8223")])])]),s("div",{staticClass:"footer__partition"}),s("div",{staticClass:"footer__about"},[s("ul",{staticClass:"footer__ul"},[s("h3",{staticClass:"footer__left"},[e._v("Molly Beach")]),s("li",{staticClass:"footer__li"},[s("a",{staticClass:"footer__a",attrs:{href:"/#"}},[e._v("chromagene@gmail.com")])]),s("li",{staticClass:"footer__li"},[s("a",{staticClass:"footer__a",attrs:{href:"/#"}},[e._v("Â© 2021, Chromagene")])])])]),s("div",{staticClass:"footer__partition"}),s("div",{staticClass:"footer__card"},[s("ul",{staticClass:"footer__ul"},[s("h3",{staticClass:"footer__left"},[e._v("ABOUT US")]),s("li",{staticClass:"footer__li"},[s("a",{staticClass:"footer__a",attrs:{href:"/#"}},[e._v("Privacy Policy")])]),s("li",{staticClass:"footer__li"},[s("a",{staticClass:"footer__a",attrs:{href:"/#"}},[e._v("Terms and Conditions")])])])])]),s("a",{staticClass:"footer__a",attrs:{href:"/"}},[s("img",{staticClass:"footer__logo",attrs:{src:"https://res.cloudinary.com/chromagene/image/upload/v1628703086/dna/company_k746rb.svg",alt:""}})]),s("div",{attrs:{id:"footer-newsletter-social"}},[s("div",{attrs:{id:"footer-newsletter"}},[s("h3",{staticClass:"footer__center"},[e._v("Discover more with Chromagene")]),s("div",{staticClass:"footer__enter"},[s("input",{staticClass:"getemailform",attrs:{type:"text",placeholder:"Enter email address"}}),s("input",{staticClass:"enteremailbutton",attrs:{type:"submit",value:"Sign Up"}})])]),s("div",{attrs:{id:"footer-social"}},[s("a",{staticClass:"footer__a",attrs:{href:"https://www.facebook.com/",target:"_blank",rel:"noreferrer"}},[s("img",{attrs:{width:"34",height:"34",src:"https://res.cloudinary.com/chromagene/image/upload/v1628704820/dna/facebook_gtzwdj.svg",alt:"facebook"}})]),s("a",{staticClass:"footer__a",attrs:{href:"https://twitter.com/chromagene",target:"_blank",rel:"noreferrer"}},[s("img",{attrs:{width:"34",height:"34",src:"https://res.cloudinary.com/chromagene/image/upload/v1628704801/dna/twitter_jfyf8d.svg",alt:"twitter"}})]),s("a",{staticClass:"footer__a",attrs:{href:"https://github.com/mollybeach/chromagene",target:"_blank",rel:"noreferrer"}},[s("img",{attrs:{width:"34",height:"34",src:"https://res.cloudinary.com/chromagene/image/upload/v1628713456/dna/github_cswvy4.png",alt:"pintrest"}})]),s("a",{staticClass:"footer__a",attrs:{href:"https://www.instagram.com/",target:"_blank",rel:"noreferrer"}},[s("img",{attrs:{width:"34",height:"34",src:"https://res.cloudinary.com/chromagene/image/upload/v1628704828/dna/instagram_bollab.svg",alt:"instagram"}})]),s("a",{staticClass:"footer__a",attrs:{href:"http://youtube.com/",target:"_blank",rel:"noreferrer"}},[s("img",{attrs:{width:"34",height:"34",src:"https://res.cloudinary.com/chromagene/image/upload/v1628704814/dna/youtube_obyfsl.svg",alt:"youtube"}})])])]),s("div",{staticClass:"footer__border"}),s("div",{attrs:{id:"footer-copyright"}},[s("div",{staticClass:"footer__law"},[s("ul",{staticClass:"footer__ul"},[s("li",{staticClass:"footer__li footer__copy"},[e._v(" Â© 2021 Chromagene.")]),s("li",{staticClass:"footer__li footer__copy"},[e._v(" Privacy Policy | Terms + Conditions | Sitemap")]),s("li",{staticClass:" footer__li footer__copy"},[e._v(" Washington | Transparency in Supply Chains Act")])])])])])}]},b5b2:function(e,t,s){},b925:function(e,t,s){},bab4:function(e,t,s){},c3f5:function(e,t,s){},d403:function(e,t,s){"use strict";var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.sculpPositions.length==e.sculptures.length?s("div",e._l(e.sculptures,(function(t,r){return s("sculpture",{key:t.id,attrs:{sculpPosition:e.sculpPositions[r],sculpData:t}})})),1):e._e()},n=[],i=(s("4795"),s("8080")),o=s("5a89"),a={props:["sculpturesData"],data:function(){return{grid:{x:5,z:0,spacing:3,size:1},sculptures:this.sculpturesData||[],sculpPositions:[]}},mounted:function(){var e=this,t=0,s=0;this.$store.commit("setDisplayCanvas",!0),this.$store.commit("sculpturesLoaded",!1);while(t<this.sculptures.length){var r=0;while(r<this.grid.x&&t<this.sculptures.length){var n=r*this.grid.spacing,i=-s*this.grid.spacing,a=new o["t"](n,0,i);this.sculpPositions.push(a),r++,t++}s++}setTimeout((function(){e.$store.commit("sculpturesLoaded",!0)}),1)},components:{sculpture:i["a"]},computed:{MSDFTexture:function(){return this.$store.getters.getMSDFTexture}}},c=a,u=s("2877"),l=Object(u["a"])(c,r,n,!1,null,null,null);t["a"]=l.exports},d4ed:function(e,t,s){"use strict";var r=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"sculpture-container"},[e.show3D?r("room",{ref:"room",attrs:{sculpturesData:e.sculptures}}):e._e(),e.show3D?e._e():r("div",{staticClass:"w-layout-grid sculpture-grid"},e._l(e.sculptures,(function(t,n){return r("div",{key:t.id,staticClass:"sculpture-item"},[r("router-link",{attrs:{to:"/sculpture/"+t.id+(t.isExample?"?example=true":"")+"?hideeditor=true&hidepedestal=true",tag:"a"}},[r("v-lazy-image",{attrs:{alt:t.title,width:"500",sizes:"520px",src:t.thumbnail?t.thumbnail:"https://firebasestorage.googleapis.com/v0/b/shader-park-core.appspot.com/o/sculptureThumbnails%2F-Lk_XES0HZ7-EdHhMstK.jpeg?alt=media&token=89087d04-7bcd-4368-bfe4-19281471308b","src-placeholder":"https://firebasestorage.googleapis.com/v0/b/shader-park-core.appspot.com/o/sculptureThumbnails%2F-LkafBpRAsQOqxKBP786.jpeg?alt=media&token=378fc6f9-b6d6-4dc3-8b98-fac3a1467d19"}})],1),r("div",{staticClass:"sculpture-description"},[e._v(e._s(t.title)),r("br"),e._v(" by "),r("router-link",{attrs:{to:"/user/"+t.username,tag:"a"}},[e._v(e._s(t.username))]),r("div",{staticClass:"sculpture-main-action-bar",class:{embeded:e.isEmbeded,dragging:e.dragging}},[r("div",{staticClass:"sculpture-button-bar"},[r("div",{staticClass:"sculpture-comment-span-button"},[r("button",{staticClass:" editor-button sculpture-comment-count fade-opacity ",staticStyle:{"margin-left":"none"},on:{click:function(t){return e.toggleItem(n)}}}),r("span",[e._v(e._s(e.commentCount)+" ")])]),r("div",{staticClass:"sculpture-comment-span-button"},[r("button",{staticClass:"editor-button action-button",class:{activated:e.favorited},on:{click:function(s){e.favorite(t),e.throttleFavorite}}}),r("span",{staticClass:"sculpture-comment-span"},[e._v(e._s(t.favorites))])]),r("button",{ref:"share",refInFor:!0,staticClass:"editor-button share fade-opacity",staticStyle:{"background-position":"50% 50%"},on:{click:function(t){return t.stopPropagation(),e.share.apply(null,arguments)}}})]),e.isActive===n?r("div",[r("div",{staticClass:"sculpture-comment-input"},[r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.newComment,expression:"newComment"}],staticClass:"sculpture-comment-textarea",attrs:{rows:"1",name:"commentInput"},domProps:{value:e.newComment},on:{input:function(t){t.target.composing||(e.newComment=t.target.value)}}}),r("button",{staticClass:"editor-button",staticStyle:{"font-size":"12px",width:"100px","margin-right":"5px"},on:{click:function(s){return e.addComment(t)}}},[e._v(" Comment ")])]),e._l(t.comments,(function(t){return r("ul",{key:t.id,staticClass:"sculpture-item",attrs:{id:"sculpture-comment"}},[r("li",{staticClass:"sculpture-comment-post"},[r("small",{staticClass:"scultpure-comment--post-date",staticStyle:{display:"flex","justify-content":"flex-end","margin-right":"5px"}},[e._v(e._s(t.date)+" "),r("button",{staticStyle:{"margin-left":"5px","border-radius":"5px"},on:{click:function(s){return e.deleteComment(t)}}},[r("img",{attrs:{alt:"closebutton",width:"20px",height:"20px",src:s("96f2")}})])]),r("img",{staticClass:"scultpure-comment--post-avi",attrs:{height:"40px",width:"40px",src:s("339a")}}),e._v(" "),r("i",{staticClass:"sculpture-comment-post-username"},[e._v(e._s(t.username))]),r("div",{staticClass:"sculpture-comment-post-text"},[e._v(" "+e._s(t.comment)+" ")])])])})),r("ul",{staticClass:"sculpture-item",attrs:{id:"sculpture-comment"}},[r("li",{staticClass:"sculpture-comment-post"},[r("small",{staticClass:"scultpure-comment--post-date",staticStyle:{display:"flex","justify-content":"flex-end","margin-right":"5px"}},[e._v(e._s(e.commentTemp.date)+" "),r("button",{staticStyle:{"margin-left":"5px","border-radius":"5px"},on:{click:function(t){return e.deleteComment(e.commentTemp,e.cIndex)}}},[r("img",{attrs:{alt:"closebutton",width:"20px",height:"20px",src:s("96f2")}})])]),r("img",{staticClass:"scultpure-comment--post-avi",attrs:{height:"40px",width:"40px",src:s("339a")}}),e._v(" "),r("i",{staticClass:"sculpture-comment-post-username"},[e._v(e._s(e.commentTemp.username))]),r("div",{staticClass:"sculpture-comment-post-text"},[e._v(" "+e._s(e.commentTemp.comment)+" ")])])])],2):e._e()]),t.fork?r("p",[e._v(" forked from "),r("router-link",{attrs:{to:"/sculpture/"+t.fork,tag:"a"}},[e._v(" "+e._s(t.fork)+" ")])],1):e._e()],1)],1)})),0)],1)},n=[],i=s("5530"),o=(s("d3b7"),s("99af"),s("0d03"),s("6eba"),s("4de4"),s("4160"),s("159b"),s("b64b"),s("8080")),a=s("d403"),c=s("8a92"),u=s("8dc2"),l=s.n(u),d=s("2f62"),p=s("84a2"),m=s.n(p),h={data:function(){return{currWidth:"100%",favorited:!1,favoriteCount:0,commentCount:0,show:!0,newComment:"",commentTemp:0,isActive:null}},props:{sculptures:{type:Array},show3D:{type:Boolean,default:!1},cachedWidth:{type:String,default:"40%"},dragging:{type:Boolean,default:!1}},computed:Object(i["a"])(Object(i["a"])({},Object(d["b"])({userFavorites:"userFavorites",userComments:"userComments"})),{},{isEmbeded:function(){return this.$store.state.embedded},currSculpture:function(){return this.$store.state.currSculpture},displayActionButton:function(){return this.currSculpture&&this.currSculpture.id&&this.currSculpture.id.length>3},isMobile:function(){return window.innerWidth<500},currUser:function(){return this.$store.getters.getUser}}),watch:{cachedWidth:function(e){"0px"!=this.currWidth&&(this.currWidth=this.cachedWidth)},currSculpture:function(e){this.updateFavoritedButton(),this.updateComments()},userFavorites:function(e){this.updateFavoritedButton()},userComments:function(e){this.updateComments()}},created:function(){this.throttleFavorite=m()(this.favorite,850)},methods:{updateFavoritedButton:function(){this.favorited=this.userFavorites&&this.currSculpture&&"id"in this.currSculpture&&this.currSculpture.id in this.userFavorites,this.$store.state.currSculpture&&(this.favoriteCount=this.currSculpture.favorites)},updateComments:function(){this.comment=this.userComments&&this.currSculpture&&"id"in this.currSculpture&&this.currSculpture.id in this.userComments,this.$store.state.currSculpture&&(this.commentTemp=this.currSculpture.comments)},addComment:function(e){var t=this;return new Promise((function(s,r){if(null!=t.currUser){var n=t.newComment;t.commentCount++;var i=function(e){var t=e.getMonth()+1,s=e.getDate(),r=e.getFullYear(),n="".concat(t,"/").concat(s,"/").concat(r);return n},o=i(new Date);t.commentCount++,t.commentTemp={id:t.currUser.uid+"_"+Date.now(),username:t.currUser.displayName,comment:n,avi:"https://firebasestorage.googleapis.com/v0/b/shader-park-test.appspot.com/o/images%2Favi.52c765c7.png?alt=media&token=90fc07ec-e837-4bd3-815d-d968c1dc2653",date:o,uid:t.currUser.uid,sculptureid:e.id},t.$store.dispatch("addComment",{sculpture:e,comment:n}).then((function(){s()}))["catch"]((function(e){console.error(e),alert(e),r(e)}))}else t.$store.commit("displayLogin",!0),s()}))},deleteComment:function(e){var t=this;return new Promise((function(s,r){null===t.currUser?(t.$store.commit("displayLogin",!0),s(),alert("first if"+e.uid+" "+t.currUser.uid)):null!=t.currUser&&t.currUser.uid!=e.uid?alert("You can only delete your own comments."+e.uid+" "+t.currUser.uid):t.$store.dispatch("deleteComment",{comment:e}).then((function(){alert("delete comment?"),t.commentTemp=null,t.commentCount--,s()}))["catch"]((function(e){console.error(e),alert(e),r(e)}))}))},toggleItem:function(e){this.isActive=this.isActive===e?null:e},favorite:function(e){var t=this;return new Promise((function(s,r){null!=t.currUser?t.$store.dispatch("favorite",{sculpture:e,favorited:!t.favorited}).then((function(){s()}))["catch"]((function(e){console.error(e),alert(e),r(e)})):(t.$store.commit("displayLogin",!0),s())}))},showCodeEditor:function(){this.$store.state.selectedObject=this.getCurrSculpture()},getCurrSculpture:function(){var e=window.scene.children.filter((function(e){return"Mesh"===e.type}));try{return e[0]}catch(t){console.error("No sculpture found",t)}},share:function(){this.$store.commit("displayShareModal",!0)}},components:{sculpture:o["a"],room:a["a"],VLazyImage:l.a,msg:String},mounted:function(){var e=this;this.$store.commit("setInitialCameraPose",[6,2.5,4]),this.$store.dispatch("fetchForks").then((function(t){var s={};Object.keys(t).forEach((function(e){s[t[e].rootId]=t[e]})),e.sculptures&&e.sculptures.forEach((function(t,r){t&&t.fork&&!(t.fork in s)&&(e.sculptures[r].fork=null)}))}))},beforeRouteLeave:function(e,t,s){Object(c["a"])(s,this)}},f=h,v=(s("2f0c"),s("2877")),g=Object(v["a"])(f,r,n,!1,null,"bca9b280",null);t["a"]=g.exports},d73d:function(e,t,s){"use strict";s("56d7")},ead5:function(e,t,s){},eed5:function(e,t,s){"use strict";s("04d2")},f76a:function(e,t,s){"use strict";s("b5b2")},fd2d:function(e,t,s){"use strict";var r=s("b35e"),n=s("94d4"),i=(s("760c"),s("2877")),o=Object(i["a"])(n["default"],r["a"],r["b"],!1,null,null,null);t["default"]=o.exports}});
//# sourceMappingURL=app.69a2644f.js.map