(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["profile"],{"26e9":function(t,e,o){"use strict";var s=o("23e7"),r=o("e8b5"),i=[].reverse,n=[1,2];s({target:"Array",proto:!0,forced:String(n)===String(n.reverse())},{reverse:function(){return r(this)&&(this.length=this.length),i.call(this)}})},"66aa":function(t,e,o){"use strict";o.r(e);var s=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[t.sculptures.length>0?o("sculpture-feed",{attrs:{sculptures:t.sculptures}}):t._e(),o("modal",{staticClass:"modal-popup",attrs:{name:"profile-modal",height:"auto",width:"500px"}},[t._v(" "+t._s(t.modalText)+" ")]),o("modal",{staticClass:"modal-popup",attrs:{name:"profile-modal-empty",height:"auto",width:"500px"}},[t._v(" Looks like you don't have any sculptures yet. Try making a "),o("router-link",{attrs:{to:"/new"}},[t._v("new")]),t._v(" one, or check out the "),o("a",{attrs:{href:"/references"}},[t._v("references")]),t._v(" to see how to get started. ")],1)],1)},r=[],i=(o("4160"),o("159b"),o("b64b"),o("26e9"),o("d4ed")),n=o("8a92"),u={data:function(){return{sculptures:[],modalText:"¯_(ツ)_/¯ couldn't find the profile you were looking for"}},components:{SculptureFeed:i["a"]},computed:{currUser:function(){return this.$store.getters.getUser},route:function(){return this.$route}},mounted:function(){this.initUserProfile()},watch:{route:function(t){this.initUserProfile()}},methods:{initUserProfile:function(){var t=this;this.$store.commit("setInitialCameraPose",[6,2.5,4]);var e=this.$route.params.username;e?(this.roomName=e,this.$store.commit("setRouteTitle",e),this.$store.dispatch("getUserIdFromUsername",e).then((function(o){o?t.$store.dispatch("fetchUserSculptures",e).then((function(e){if(t.setSculpturesAndJoinRoom(e),e.length<=5){var o=e.length-1;t.$store.commit("setInitialCameraPose",[o/2+o,2.5,4])}0==e.length&&(t.modalText="This user doesn't have any sculptures yet",t.$modal.show("profile-modal"))})):t.showModal()}))):(this.roomName=this.currUser.displayName,this.$store.commit("setRouteTitle",this.roomName),this.$store.commit("setProfileBadgeCount",0),this.$store.dispatch("fetchUserSculptures",this.roomName).then((function(e){t.setSculpturesAndJoinRoom(e),0==e.length&&t.$modal.show("profile-modal-empty")})))},setSculpturesAndJoinRoom:function(t){if(t){var e=[];Object.keys(t).forEach((function(o){e.push(t[o])})),e.reverse(),this.sculptures=[],this.sculptures=e}this.$store.commit("sculpturesLoaded",!0),this.$store.commit("joinRoom",this.roomName)},showModal:function(){this.$modal.show("profile-modal")}},destroyed:function(){this.$store.commit("setRouteTitle",null)},beforeRouteLeave:function(t,e,o){Object(n["a"])(o,this)}},a=u,l=o("2877"),c=Object(l["a"])(a,s,r,!1,null,null,null);e["default"]=c.exports}}]);
//# sourceMappingURL=profile.66ab2b4f.js.map